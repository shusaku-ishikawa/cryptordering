webpackJsonp([1],{"0vmf":function(t,e){},"2mEB":function(t,e){},"2wx7":function(t,e){},"3+3J":function(t,e){},"4rW+":function(t,e){},"647k":function(t,e){},"6guv":function(t,e){},"70yS":function(t,e){},"7ylm":function(t,e){},"8BwI":function(t,e){},AoxS:function(t,e){},GkeQ:function(t,e){},MSjv:function(t,e){},NHnr:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=r("7+uW"),n={props:{routes:{type:Array,require:!0},value:{type:String,require:!0}},data:function(){return{}}},s={render:function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",t._l(this.routes,function(e,a){return r("router-link",{key:a,class:{selected:e.name===t.value},attrs:{to:{name:e.name},tag:"button"},nativeOn:{click:function(r){return t.$emit("input",e.name)}}},[t._v("\n    "+t._s(e.meta.caption)+"\n  ")])}),1)},staticRenderFns:[]};var o=r("VU/8")(n,s,!1,function(t){r("yuX0")},"data-v-4b2d2526",null).exports,i={props:{routes:{type:Array,require:!0},value:{type:String,require:!0}},data:function(){return{}}},c={render:function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",t._l(this.routes,function(e,a){return r("router-link",{key:a,class:{selected:e.name===t.value},attrs:{to:{name:e.name},tag:"button"},nativeOn:{click:function(r){return t.$emit("input",e.name)}}},[r("span",[t._v(t._s(e.meta.caption))])])}),1)},staticRenderFns:[]};var u={name:"App",components:{PrivateNavbar:o,PublicNavbar:r("VU/8")(i,c,!1,function(t){r("W4n4")},"data-v-64959451",null).exports},data:function(){return{loading:!1,activeRoute:""}},computed:{publicRoutes:function(){return this.$router.options.routes.filter(function(t){return t.meta.isPublic})},privateRoutes:function(){return this.$router.options.routes.filter(function(t){return!t.meta.isPublic})}},watch:{$route:function(t,e){this.activeRoute=t.name}},methods:{setLoading:function(t){this.loading=t},setProcessing:function(t){this.processing=t}}},l={render:function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-app",{attrs:{id:"app"}},[r("v-container",[r("v-row",[r("v-col",{attrs:{xs:"12",md:"6","offset-md":"3"}},[r("PrivateNavbar",{directives:[{name:"show",rawName:"v-show",value:this.$store.getters["auth/isAuthenticated"],expression:"this.$store.getters['auth/isAuthenticated']"}],attrs:{routes:t.privateRoutes},model:{value:t.activeRoute,callback:function(e){t.activeRoute=e},expression:"activeRoute"}}),t._v(" "),r("PublicNavbar",{directives:[{name:"show",rawName:"v-show",value:!this.$store.getters["auth/isAuthenticated"],expression:"!this.$store.getters['auth/isAuthenticated']"}],attrs:{routes:t.publicRoutes},model:{value:t.activeRoute,callback:function(e){t.activeRoute=e},expression:"activeRoute"}}),t._v(" "),r("div",{directives:[{name:"show",rawName:"v-show",value:t.loading,expression:"loading"}],staticClass:"loader"},[t._v("Now loading...")]),t._v(" "),r("flash-message",{staticClass:"myCustomClass"}),t._v(" "),r("router-view",{directives:[{name:"show",rawName:"v-show",value:!t.loading,expression:"!loading"}],on:{loading:t.setLoading}})],1)],1)],1)],1)},staticRenderFns:[]};var d=r("VU/8")(u,l,!1,function(t){r("647k")},null,null).exports,p=r("/ocq"),m=r("Xxa5"),v=r.n(m),f=r("exGp"),h=r.n(f),_={data:function(){return{username:"",password:""}},methods:{login:function(){var t=this;return h()(v.a.mark(function e(){return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.$store.dispatch("auth/create",{username:t.username,password:t.password});case 3:t.$router.push("/order"),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),t.flash("ログインに失敗しました","error",{timeout:3e3});case 9:case"end":return e.stop()}},e,t,[[0,6]])}))()}},mounted:function(){this.$store.dispatch("auth/destroy")}},b={render:function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-form",{ref:"form"},[r("v-text-field",{attrs:{label:"メールアドレス",required:""},model:{value:t.username,callback:function(e){t.username=e},expression:"username"}}),t._v(" "),r("v-text-field",{attrs:{type:"password",label:"パスワード",required:""},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}}),t._v(" "),r("v-btn",{staticClass:"mr-4",attrs:{color:"teal",block:""},on:{click:t.login}},[t._v("\n    ログイン\n  ")])],1)},staticRenderFns:[]},g=r("VU/8")(_,b,!1,null,null,null).exports,C={name:"CustomTextInput",props:{value:{type:String},placeholder:{type:String}}},k={render:function(){var t=this,e=t.$createElement;return(t._self._c||e)("input",{attrs:{type:"text",placeholder:t.placeholder},domProps:{value:t.value},on:{input:function(e){return t.$emit("input",e.target.value)}}})},staticRenderFns:[]};var x=r("VU/8")(C,k,!1,function(t){r("oldO")},"data-v-2c5c7dfd",null).exports,y={name:"CustomPasswordInput",props:{value:{type:String},placeholder:{type:String}}},w={render:function(){var t=this,e=t.$createElement;return(t._self._c||e)("input",{attrs:{type:"password",placeholder:t.placeholder},domProps:{value:t.value},on:{input:function(e){return t.$emit("input",e.target.value)}}})},staticRenderFns:[]};var P=r("VU/8")(y,w,!1,function(t){r("oaQU")},"data-v-b78b7872",null).exports,T={props:{errors:{type:Array,require:!1,default:null}}},B={render:function(){var t=this,e=t.$createElement,r=t._self._c||e;return t.errors?r("ul",t._l(t.errors,function(e,a){return r("li",{key:a},[t._v("\n    "+t._s(e)+"\n  ")])}),0):t._e()},staticRenderFns:[]};var O=r("VU/8")(T,B,!1,function(t){r("7ylm")},"data-v-f06a7644",null).exports,$=r("PJh5"),j=r.n($),A={name:"info",components:{CustomTextInput:x,CustomPasswordInput:P,FormErrorMessage:O},data:function(){return{form:{data:{email:"",date_joined:"",full_name:"",email_for_notice:"",bb_api_key:"",bb_api_secret_key:"",cc_api_key:"",cc_api_secret_key:""},errors:{}},passwordForm:{data:{old_password:"",new_password_1:"",new_password_2:""},errors:{}}}},methods:{save:function(){var t=this;return h()(v.a.mark(function e(){return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t.form),e.prev=1,e.next=4,t.$store.dispatch("http/patch",{url:t.$store.getters["auth/userInfoPostUrl"],data:t.form},{root:!0});case 4:t.flash("登録情報を更新しました","success",{timeout:1500}),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(1),console.log(e.t0.response.data),t.flash("登録情報の更新に失敗しました","error",{timeout:1500});case 11:case"end":return e.stop()}},e,t,[[1,7]])}))()},logout:function(){var t=this;return h()(v.a.mark(function e(){return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.$store.dispatch("auth/destroy");case 3:t.$router.push("login"),e.next=8;break;case 6:e.prev=6,e.t0=e.catch(0);case 8:case"end":return e.stop()}},e,t,[[0,6]])}))()},changePassword:function(){var t=this;return h()(v.a.mark(function e(){return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.$store.dispatch("http/post",{url:"password-change/",data:t.passwordForm.data},{root:!0});case 3:t.flash("パスワードを更新しました","success",{timeout:1500}),t.passwordForm.data.old_password="",t.passwordForm.data.new_password_1="",t.passwordForm.data.new_password_2="",e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),400===e.t0.response.status&&(t.passwordForm.errors=e.t0.response.data);case 13:case"end":return e.stop()}},e,t,[[0,9]])}))()}},created:function(){var t=this;return h()(v.a.mark(function e(){var r;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.$emit("loading",!0),e.prev=1,e.next=4,t.$store.dispatch("http/get",{url:t.$store.getters["auth/userInfoGetUrl"]},{root:!0});case 4:r=e.sent,t.form.data=r.data,e.next=11;break;case 8:throw e.prev=8,e.t0=e.catch(1),e.t0;case 11:t.$emit("loading",!1);case 12:case"end":return e.stop()}},e,t,[[1,8]])}))()},filters:{formatDate:function(t){return j()(t).format("YYYY/MM/DD HH:mm")}}},S={render:function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("fieldset",[r("legend",{attrs:{align:"left"}},[t._v("登録情報")]),t._v(" "),r("table",[r("tr",[r("th",[t._v("\n            登録日\n          ")]),t._v(" "),r("td",[t._v("\n            "+t._s(t._f("formatDate")(t.form.date_joined))+"\n          ")])]),t._v(" "),r("tr",[r("th",[t._v("\n            名前\n          ")]),t._v(" "),r("td",[r("CustomTextInput",{model:{value:t.form.data.full_name,callback:function(e){t.$set(t.form.data,"full_name",e)},expression:"form.data.full_name"}}),t._v(" "),r("FormErrorMessage",{attrs:{errors:t.form.errors.full_name}})],1)]),t._v(" "),r("tr",[r("th",[t._v("\n            登録メールアドレス\n          ")]),t._v(" "),r("td",[t._v("\n            "+t._s(t.form.data.email)+"\n          ")])]),t._v(" "),r("tr",[r("th",[t._v("\n            bitbank API Key\n          ")]),t._v(" "),r("td",[r("CustomTextInput",{model:{value:t.form.data.bb_api_key,callback:function(e){t.$set(t.form.data,"bb_api_key",e)},expression:"form.data.bb_api_key"}}),t._v(" "),r("FormErrorMessage",{attrs:{errors:t.form.errors.bb_api_key}})],1)]),t._v(" "),r("tr",[r("th",[t._v("\n            bitbank Secret Key\n          ")]),t._v(" "),r("td",[r("CustomTextInput",{model:{value:t.form.data.bb_api_secret_key,callback:function(e){t.$set(t.form.data,"bb_api_secret_key",e)},expression:"form.data.bb_api_secret_key"}}),t._v(" "),r("FormErrorMessage",{attrs:{errors:t.form.errors.bb_api_secret_key}})],1)]),t._v(" "),r("tr",[r("th",[t._v("\n            coincheck API Key\n          ")]),t._v(" "),r("td",[r("CustomTextInput",{model:{value:t.form.data.cc_api_key,callback:function(e){t.$set(t.form.data,"cc_api_key",e)},expression:"form.data.cc_api_key"}}),t._v(" "),r("FormErrorMessage",{attrs:{errors:t.form.errors.cc_api_key}})],1)]),t._v(" "),r("tr",[r("th",[t._v("\n            coincheck Secret Key\n          ")]),t._v(" "),r("td",[r("CustomTextInput",{model:{value:t.form.data.cc_api_secret_key,callback:function(e){t.$set(t.form.data,"cc_api_secret_key",e)},expression:"form.data.cc_api_secret_key"}}),t._v(" "),r("FormErrorMessage",{attrs:{errors:t.form.errors.cc_api_secret_key}})],1)]),t._v(" "),r("tr",[r("th",[t._v("\n            通知用メールアドレス\n          ")]),t._v(" "),r("td",[r("CustomTextInput",{model:{value:t.form.data.email_for_notice,callback:function(e){t.$set(t.form.data,"email_for_notice",e)},expression:"form.data.email_for_notice"}}),t._v(" "),r("FormErrorMessage",{attrs:{errors:t.form.errors.email_for_notice}})],1)])]),t._v(" "),r("v-btn",{attrs:{color:"teal"},on:{click:t.save}},[t._v("\n        更新\n      ")]),t._v(" "),r("v-btn",{attrs:{color:"red"},on:{click:t.logout}},[t._v("\n        ログアウト\n      ")])],1),t._v(" "),r("fieldset",[r("legend",{attrs:{align:"left"}},[t._v("パスワード")]),t._v(" "),r("table",[r("tr",[r("th",[t._v("現在のパスワード")]),t._v(" "),r("td",[r("CustomPasswordInput",{model:{value:t.passwordForm.data.old_password,callback:function(e){t.$set(t.passwordForm.data,"old_password",e)},expression:"passwordForm.data.old_password"}}),t._v(" "),r("FormErrorMessage",{attrs:{errors:t.passwordForm.errors.old_password}})],1)]),t._v(" "),r("tr",[r("th",[t._v("新しいパスワード")]),t._v(" "),r("td",[r("CustomPasswordInput",{model:{value:t.passwordForm.data.new_password_1,callback:function(e){t.$set(t.passwordForm.data,"new_password_1",e)},expression:"passwordForm.data.new_password_1"}}),t._v(" "),r("FormErrorMessage",{attrs:{errors:t.passwordForm.errors.new_password_1}})],1)]),t._v(" "),r("tr",[r("th",[t._v("新しいパスワード2")]),t._v(" "),r("td",[r("CustomPasswordInput",{model:{value:t.passwordForm.data.new_password_2,callback:function(e){t.$set(t.passwordForm.data,"new_password_2",e)},expression:"passwordForm.data.new_password_2"}}),t._v(" "),r("FormErrorMessage",{attrs:{errors:t.passwordForm.errors.new_password_2}})],1)])]),t._v(" "),r("v-btn",{attrs:{color:"teal",block:""},on:{click:t.changePassword}},[t._v("\n      更新\n    ")])],1)])},staticRenderFns:[]};var F=r("VU/8")(A,S,!1,function(t){r("AoxS")},"data-v-ca58f156",null).exports,E={name:"CustomSelect",props:{value:{type:String,require:!0},placeholder:{type:String,require:!0},options:{type:Array,require:!0},name:{type:String,require:!0},active:{type:Boolean,default:!0}},methods:{updateValue:function(t){this.$emit("input",t.target.value),this.$emit("change",t.target.value)}},mounted:function(){this.$emit("input",this.options[0].value)}},I={render:function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"wrapper",class:{inactive:!t.active}},[r("span",{staticClass:"prepend"},[t._v("\n    "+t._s(t.placeholder)+"\n  ")]),t._v(" "),r("div",{staticClass:"body"},[r("select",{attrs:{disabled:!t.active,dir:"rtl",name:t.name},on:{change:t.updateValue}},[t._l(t.options,function(e,a){return[r("option",{key:a,domProps:{value:e.value}},[t._v("\n          "+t._s(e.text)+"\n        ")])]})],2)])])},staticRenderFns:[]};var N=r("VU/8")(E,I,!1,function(t){r("tVF0")},"data-v-d4344d48",null).exports,R={name:"CustomNumberInput",props:{value:{type:Number},prepend_placeholder:{type:String,require:!0},append_placeholder:{type:String,require:!0},name:{type:String,require:!0},active:{type:Boolean,default:!0}}},Y={render:function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"wrapper",class:{inactive:!t.active}},[r("span",{staticClass:"prepend"},[t._v("\n    "+t._s(t.prepend_placeholder)+"\n  ")]),t._v(" "),r("div",{staticClass:"body"},[r("input",{attrs:{readonly:!t.active,type:"number"},domProps:{value:t.value},on:{input:function(e){return t.$emit("input",e.target.value)}}})]),t._v(" "),r("span",{staticClass:"append"},[t._v("\n    "+t._s(t.append_placeholder)+"\n  ")])])},staticRenderFns:[]};var J=r("VU/8")(R,Y,!1,function(t){r("WZIQ")},"data-v-7c120d8d",null).exports,M={name:"CustomToggleSwitch",props:{value:{type:Boolean},caption:{type:Object},active:{type:Boolean,default:!0}},methods:{turnOn:function(){this.value||this.$emit("input",!0)},turnOff:function(){this.value&&this.$emit("input",!1)}},mounted:function(){}},q={render:function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("button",{class:{off:!0,active:!this.value},attrs:{type:"button",disabled:!t.active},on:{click:t.turnOff}},[t._v("\n    "+t._s(t.caption.off)+"\n  ")]),t._v(" "),r("button",{class:{on:!0,active:this.value},attrs:{disabled:!t.active,type:"button"},on:{click:t.turnOn}},[t._v("\n    "+t._s(t.caption.on)+"\n  ")])])},staticRenderFns:[]};var V=r("VU/8")(M,q,!1,function(t){r("yuaL")},"data-v-d532f0e8",null).exports,L={name:"OrderPageFormAmountPercentButtons",data:function(){return{color:"teal"}},props:{buttonColor:{type:String},active:{type:Boolean,default:!0}}},D={render:function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-container",[r("v-row",[r("v-col",{attrs:{md:"3"}},[r("v-btn",{attrs:{disabled:!t.active,color:t.buttonColor},on:{click:function(e){return t.$emit("click",25)}}},[t._v("\n          25%\n      ")])],1),t._v(" "),r("v-col",{attrs:{md:"3"}},[r("v-btn",{attrs:{disabled:!t.active,color:t.buttonColor},on:{click:function(e){return t.$emit("click",50)}}},[t._v("\n          50%\n      ")])],1),t._v(" "),r("v-col",{attrs:{md:"3"}},[r("v-btn",{attrs:{disabled:!t.active,color:t.buttonColor,value:"75"},on:{click:function(e){return t.$emit("click",75)}}},[t._v("\n          75%\n      ")])],1),t._v(" "),r("v-col",{attrs:{md:"3"}},[r("v-btn",{attrs:{disabled:!t.active,color:t.buttonColor,value:"100"},on:{click:function(e){return t.$emit("click",100)}}},[t._v("\n          100%\n      ")])],1)],1)],1)},staticRenderFns:[]},U=r("VU/8")(L,D,!1,null,null,null).exports,H={name:"OrderPageFormAssetRate",props:{rate:{type:Number},active:{type:Boolean,default:!0}},computed:{message:function(){return isNaN(this.rate)||this.rate>100?"数量不足":this.rate+"%"}}},z={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("span",{class:{inactive:!this.active}},[this._v("\n    "+this._s(this.message)+"\n  ")])])},staticRenderFns:[]};var X={name:"OrderPageForm",components:{CustomSelect:N,CustomNumberInput:J,OrderPageFormAmountPercentButtons:U,OrderPageFormAssetRate:r("VU/8")(H,z,!1,function(t){r("GkeQ")},"data-v-53ee9bca",null).exports,CustomToggleSwitch:V},data:function(){return{precision:5,form:{data:{side:"buy",type:"",price:0,stop_price:0,trail_width:0,amount:0},options:{types:[{text:"成行",value:"market"},{text:"指値",value:"limit"},{text:"逆指値",value:"stop_market"},{text:"ストップリミット",value:"stop_limit"},{text:"トレール",value:"trail"}]}}}},props:{position:{type:String,require:!0},label:{type:String,require:!0},symbol:{type:String,require:!0},baseAsset:{type:Number,require:!0},quoteAsset:{type:Number,require:!0},sellRate:{type:Number,require:!0},buyRate:{type:Number,require:!0},active:{type:Boolean,default:!0}},created:function(){this.$emit("input",this.form.data)},computed:{sideBool:function(){return"sell"===this.form.data.side},sidecolor:function(){return"sell"===this.form.data.side?"red":"teal"},assetRate:function(){return"sell"===this.form.data.side?parseInt(this.form.data.amount/this.baseAsset*100):parseInt(this.quoteQuantity/this.quoteAsset*100)},exchangeRate:function(){return this.isLimitOrder?this.form.data.price:"side"===this.form.data.side?this.sellRate:this.buyRate},quoteQuantity:function(){return this.exchangeRate>0?this.round(this.form.data.amount*this.exchangeRate,this.precision):0},baseCurrency:function(){return this.symbol.split("/")[0]},quoteCurrency:function(){return this.symbol.split("/")[1]},isLimitOrder:function(){return this.form.data.type.includes("limit")},isStopOrder:function(){return this.form.data.type.includes("stop")},isTrailOrder:function(){return this.form.data.type.includes("trail")}},watch:{"form.data.side":function(){this.$emit("change",this.form.data)},"form.data.type":function(){this.$emit("change",this.form.data)},"form.data.price":function(){this.$emit("change",this.form.data)},"form.data.stop_price":function(){this.$emit("change",this.form.data)},"form.data.trail_width":function(){this.$emit("change",this.form.data)},"form.data.amount":function(){this.$emit("change",this.form.data)}},methods:{ontypeChange:function(t){var e=void 0;e="side"===this.form.data.side?this.sellRate:this.buyRate,this.isLimitOrder&&(this.form.data.price=e),this.isStopOrder&&(this.form.data.stop_price=e)},onSideChange:function(t){this.form.data.side=t?"sell":"buy"},handleRateButtonClick:function(t){this.onRateChange(t)},round:function(t,e){return Number(Math.round(t+"e"+e)+"e-"+e)},onRateChange:function(t){if("sell"===this.form.data.side){var e=t/100*this.baseAsset;this.form.data.amount=this.round(e,this.precision)}else{var r=t/100*this.quoteAsset/this.exchangeRate;this.form.data.amount=this.round(r,this.precision)}},onQuoteQuantityChange:function(t){},increment:function(){var t=void 0;"sell"===this.form.data.side?(t=.01*this.baseAsset,this.form.data.amount=this.round(this.form.data.amount+t,this.precision)):(t=this.quoteAsset/100,this.form.data.amount=this.round(this.form.data.amount+t/this.exchangeRate,this.precision))},decrement:function(){var t=void 0;t="sell"===this.form.data.side?.01*this.baseAsset:.01*this.quoteAsset/this.exchangeRate,this.form.data.amount=this.round(this.form.data.amount-t,this.precision)}}},Q={render:function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("fieldset",{class:{inactive:!t.active}},[r("legend",{attrs:{align:"left"}},[t._v(t._s(t.label))]),t._v(" "),r("CustomToggleSwitch",{attrs:{caption:{off:"買い",on:"売り"},value:t.sideBool,active:t.active},on:{input:t.onSideChange}}),t._v(" "),r("CustomSelect",{attrs:{placeholder:"注文方法",name:"type",options:t.form.options.types,active:t.active},on:{change:t.ontypeChange},model:{value:t.form.data.type,callback:function(e){t.$set(t.form.data,"type",e)},expression:"form.data.type"}}),t._v(" "),r("CustomNumberInput",{directives:[{name:"show",rawName:"v-show",value:t.isLimitOrder,expression:"isLimitOrder"}],attrs:{prepend_placeholder:"指値価格",append_placeholder:t.quoteCurrency,name:"price",type:"number",visible:t.isLimitOrder,active:t.active},model:{value:t.form.data.price,callback:function(e){t.$set(t.form.data,"price",t._n(e))},expression:"form.data.price"}}),t._v(" "),t.isStopOrder?r("CustomNumberInput",{attrs:{prepend_placeholder:"逆指値価格",append_placeholder:t.quoteCurrency,name:"stop_price",type:"number",active:t.active},model:{value:t.form.data.stop_price,callback:function(e){t.$set(t.form.data,"stop_price",t._n(e))},expression:"form.data.stop_price"}}):t._e(),t._v(" "),t.isTrailOrder?r("CustomNumberInput",{attrs:{prepend_placeholder:"トレール幅",append_placeholder:t.quoteCurrency,name:"trail_gap",type:"number",active:t.active},model:{value:t.form.data.trail_width,callback:function(e){t.$set(t.form.data,"trail_width",t._n(e))},expression:"form.data.trail_width"}}):t._e(),t._v(" "),r("CustomNumberInput",{attrs:{prepend_placeholder:"数量",append_placeholder:t.baseCurrency,name:"quantity",type:"number",active:t.active},model:{value:t.form.data.amount,callback:function(e){t.$set(t.form.data,"amount",t._n(e))},expression:"form.data.amount"}}),t._v(" "),r("CustomNumberInput",{attrs:{prepend_placeholder:"数量",append_placeholder:t.quoteCurrency,type:"number",name:"quote_quantity",value:t.quoteQuantity,active:t.active},on:{change:t.onQuoteQuantityChange}}),t._v(" "),r("v-btn",{staticClass:"decrement-button",attrs:{color:t.sidecolor,disabled:!t.active},on:{click:t.decrement}},[t._v("\n    -1\n  ")]),t._v(" "),r("v-btn",{staticClass:"increment-button",attrs:{color:t.sidecolor,disabled:!t.active},on:{click:t.increment}},[t._v("\n    +1\n  ")]),t._v(" "),r("v-slider",{staticStyle:{clear:"both"},attrs:{value:t.assetRate,color:t.sidecolor,height:"20",disabled:!t.active},on:{change:t.onRateChange}}),t._v(" "),r("OrderPageFormAssetRate",{attrs:{rate:t.assetRate,active:t.active}}),t._v(" "),r("OrderPageFormAmountPercentButtons",{attrs:{buttonColor:t.sidecolor,active:t.active},on:{click:t.handleRateButtonClick}})],1)},staticRenderFns:[]};var W=r("VU/8")(X,Q,!1,function(t){r("2wx7")},"data-v-2dae7bef",null).exports,G={name:"Modal",props:{isError:{type:Boolean}}},K={render:function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("transition",{attrs:{name:"modal"}},[r("div",{staticClass:"modal-mask"},[r("div",{staticClass:"modal-wrapper"},[r("div",{staticClass:"modal-container",class:{error:t.isError,success:!t.isError}},[r("div",{staticClass:"modal-header"},[t._t("header")],2),t._v(" "),r("div",{staticClass:"modal-body"},[t._t("body")],2),t._v(" "),r("div",{staticClass:"modal-footer"},[r("v-btn",{attrs:{text:"",color:"black"},on:{click:function(e){return t.$emit("close")}}},[t._v("\n            閉じる\n          ")])],1)])])])])},staticRenderFns:[]};var Z=r("VU/8")(G,K,!1,function(t){r("QTRp")},"data-v-784c03ba",null).exports,tt={data:function(){return{processing:!1,modal:!1,operation:{isError:!1,message:""},form:{data:{market:"bitbank",symbol:"BTC/JPY",special_order:"",order_1:null,order_2:null,order_3:null},options:{markets:[{text:"bitbank",value:"bitbank"},{text:"coincheck",value:"coincheck"}],symbols:[{value:"BTC/JPY",text:"BTC/JPY"},{value:"XRP/JPY",text:"XRP/JPY"},{value:"LTC/BTC",text:"LTC/BTC"},{value:"ETH/BTC",text:"ETH/BTC"},{value:"MONA/JPY",text:"MONA/JPY"},{value:"MONA/BTC",text:"MONA/BTC"},{value:"BCC/JPY",text:"BCC/JPY"},{value:"BCC/BTC",text:"BCC/BTC"}],special_orders:[{text:"SINGLE",value:"SINGLE"},{text:"IFD",value:"IFD"},{text:"OCO",value:"OCO"},{text:"IFDOCO",value:"IFDOCO"}]}},asset:{base:0,quote:0},rate:{sell:0,buy:0}}},created:function(){var t=this;return h()(v.a.mark(function e(){var r,a;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r="bitbank",a="BTC/JPY",e.next=4,t.updateAsset(r,a);case 4:return e.next=6,t.updateTicker(r,a);case 6:t.$emit("loading",!1);case 7:case"end":return e.stop()}},e,t)}))()},components:{CustomSelect:N,OrderPageForm:W,Modal:Z},computed:{showOrder1:function(){return"OCO"!==this.form.data.special_order},showOrder2:function(){return"SINGLE"!==this.form.data.special_order},showOrder3:function(){return"OCO"===this.form.data.special_order||"IFDOCO"===this.form.data.special_order},baseCurrency:function(){return this.form.data.symbol.split("/")[0]},quoteCurrency:function(){return this.form.data.symbol.split("/")[1]},ifdVirtualAsset:function(){if(this.form.data.special_order.includes("IFD")){if("sell"===this.form.data.order_1.side){var t=this.form.data.order_1.type.includes("limit")?this.form.data.order_1.price:this.rate.sell,e=this.form.data.order_1.amount,r=t*e;return{base:this.asset.base-e,quote:this.asset.quote+r}}var a=this.form.data.order_1.type.includes("limit")?this.form.data.order_1.price:this.rate.buy,n=this.form.data.order_1.amount,s=a*n;return{base:this.asset.base+n,quote:this.asset.quote-s}}return this.asset}},methods:{updateAsset:function(t,e){var r=this;return h()(v.a.mark(function e(){var a;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,r.$store.dispatch("http/get",{url:"assets?market="+t},{root:!0});case 3:a=e.sent,console.log(a.data),r.asset.base=a.data[r.baseCurrency],r.asset.quote=a.data[r.quoteCurrency],e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0.response),503===e.t0.response.status&&r.flash(e.t0.response.data,"error",{timeout:1500});case 13:case"end":return e.stop()}},e,r,[[0,9]])}))()},updateTicker:function(t,e){var r=this;return h()(v.a.mark(function a(){var n;return v.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,r.$store.dispatch("http/get",{url:"ticker?market="+t+"&symbol="+e},{root:!0});case 3:n=a.sent,console.log(n.data),r.rate.sell=parseFloat(n.data.bid),r.rate.buy=parseFloat(n.data.ask),a.next=13;break;case 9:a.prev=9,a.t0=a.catch(0),console.log(a.t0.response),console.log(a.t0);case 13:case"end":return a.stop()}},a,r,[[0,9]])}))()},onMarketChange:function(t){var e=this;return h()(v.a.mark(function r(){return v.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:"bitbank"===t?e.form.options.symbols=[{value:"BTC/JPY",text:"BTC/JPY"},{value:"XRP/JPY",text:"XRP/JPY"},{value:"LTC/BTC",text:"LTC/BTC"},{value:"ETH/BTC",text:"ETH/BTC"},{value:"MONA/JPY",text:"MONA/JPY"},{value:"MONA/BTC",text:"MONA/BTC"},{value:"BCC/JPY",text:"BCC/JPY"},{value:"BCC/BTC",text:"BCC/BTC"}]:"coincheck"===t&&(e.form.options.symbols=[{value:"BTC/JPY",text:"BTC/JPY"}],e.form.data.symbol="BTC/JPY",alert(e.form.data.symbol)),e.updateAsset(t,e.form.data.symbol),e.updateTicker(t,e.form.data.symbol);case 3:case"end":return r.stop()}},r,e)}))()},onSymbolChange:function(t){var e=this;return h()(v.a.mark(function r(){return v.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:e.updateAsset(e.form.data.market,t),e.updateTicker(e.form.data.market,t);case 2:case"end":return r.stop()}},r,e)}))()},onSpecialOrderChange:function(t){},onOrder1Change:function(t){this.form.data.order_1=t},onOrder2Change:function(t){this.form.data.order_2=t},onOrder3Change:function(t){this.form.data.order_3=t},placeOrder:function(){var t=this;return h()(v.a.mark(function e(){var r,a,n;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.processing=!0,e.prev=1,e.next=4,t.$store.dispatch("http/post",{url:"relations/",data:t.form.data},{root:!0});case 4:t.operation={isSuccess:!0,message:"注文が完了しました"},e.next=11;break;case 7:e.prev=7,e.t0=e.catch(1),r=e.t0.response,a=r.status,n=r.data,400===a&&n.non_field_errors&&(t.operation={isSuccess:!1,message:n.non_field_errors[0]});case 11:t.modal=!0;case 12:case"end":return e.stop()}},e,t,[[1,7]])}))()},onModalConfirm:function(){this.modal=!1,this.processing=!1}}},et={render:function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("div",{directives:[{name:"show",rawName:"v-show",value:t.processing,expression:"processing"}],staticClass:"processing"}),t._v(" "),r("div",[r("Modal",{directives:[{name:"show",rawName:"v-show",value:t.modal,expression:"modal"}],attrs:{isError:!t.operation.isSuccess},on:{close:t.onModalConfirm},scopedSlots:t._u([{key:"body",fn:function(){return[t._v("\n        "+t._s(t.operation.message)+"\n      ")]},proxy:!0}])}),t._v(" "),r("CustomSelect",{attrs:{placeholder:"取引所",name:"market",options:t.form.options.markets,active:!t.processing},on:{change:t.onMarketChange},model:{value:t.form.data.market,callback:function(e){t.$set(t.form.data,"market",e)},expression:"form.data.market"}}),t._v(" "),r("CustomSelect",{attrs:{placeholder:"取引通貨",name:"symbol",options:t.form.options.symbols,active:!t.processing},on:{change:t.onSymbolChange},model:{value:t.form.data.symbol,callback:function(e){t.$set(t.form.data,"symbol",e)},expression:"form.data.symbol"}}),t._v(" "),r("CustomSelect",{attrs:{placeholder:"特殊注文",name:"special_order",options:t.form.options.special_orders,active:!t.processing},on:{change:t.onSpecialOrderChange},model:{value:t.form.data.special_order,callback:function(e){t.$set(t.form.data,"special_order",e)},expression:"form.data.special_order"}}),t._v(" "),r("OrderPageForm",{directives:[{name:"show",rawName:"v-show",value:t.showOrder1,expression:"showOrder1"}],attrs:{position:"new_order",label:"新規注文",symbol:t.form.data.symbol,baseAsset:t.asset.base,quoteAsset:t.asset.quote,sellRate:t.rate.sell,buyRate:t.rate.buy,active:!t.processing},on:{change:function(e){return t.onOrder1Change(e)}}}),t._v(" "),r("OrderPageForm",{directives:[{name:"show",rawName:"v-show",value:t.showOrder2,expression:"showOrder2"}],attrs:{position:"settle_1",label:"決済注文1",symbol:t.form.data.symbol,baseAsset:t.ifdVirtualAsset.base,quoteAsset:t.ifdVirtualAsset.quote,sellRate:t.rate.sell,buyRate:t.rate.buy,active:!t.processing},on:{change:function(e){return t.onOrder2Change(e)}}}),t._v(" "),r("OrderPageForm",{directives:[{name:"show",rawName:"v-show",value:t.showOrder3,expression:"showOrder3"}],attrs:{position:"settle_2",label:"決済注文2",symbol:t.form.data.symbol,baseAsset:t.ifdVirtualAsset.base,quoteAsset:t.ifdVirtualAsset.quote,sellRate:t.rate.sell,buyRate:t.rate.buy,active:!t.processing},on:{change:function(e){return t.onOrder3Change(e)}}}),t._v(" "),r("v-btn",{staticClass:"order_button",attrs:{block:"",color:"teal",disabled:t.processing},on:{click:t.placeOrder}},[t._v("\n      注文\n    ")])],1)])},staticRenderFns:[]};var rt=r("VU/8")(tt,et,!1,function(t){r("XCQl")},"data-v-7b764585",null).exports,at={name:"ActiveOrderPageCardHeader",data:function(){return{}},props:{id:{type:Number,require:!0},placedAt:{type:String,require:!0},market:{type:String,require:!0},symbol:{type:String,require:!0},specialOrder:{type:String,require:!0}},filters:{toReadableDate:function(t){return 0===t?"-":j()(t).format("YYYY/MM/DD HH:mm")}}},nt={render:function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("table",[r("tr",[r("th",[t._v("特殊注文ID")]),t._v(" "),r("td",{attrs:{colspan:"3"}},[t._v(t._s(t.id))])]),t._v(" "),r("tr",[r("th",[t._v("特殊注文日時")]),t._v(" "),r("td",{attrs:{colspan:"3"}},[t._v(t._s(t._f("toReadableDate")(t.placedAt)))])]),t._v(" "),r("tr",[r("th",[t._v("取引所")]),t._v(" "),r("td",[t._v(t._s(t.market))]),t._v(" "),r("th",[t._v("取引通貨")]),t._v(" "),r("td",[t._v(t._s(t.symbol))])]),t._v(" "),r("tr",[r("th",[t._v("特殊注文")]),t._v(" "),r("td",{attrs:{colspan:"3"}},[t._v(t._s(t.specialOrder))])])])},staticRenderFns:[]};var st=r("VU/8")(at,nt,!1,function(t){r("lxH6")},"data-v-644c9f71",null).exports,ot=r("fZjL"),it=r.n(ot),ct={name:"OrderBadge",components:{},computed:{},data:function(){return{}},props:{position:{type:String,require:!0}},filters:{toReadablePosition:function(t){return"order1"===t?"新規注文":"order2"===t?"決済注文①":"order3"===t?"決済注文②":void 0}}},ut={render:function(){var t=this.$createElement;return(this._self._c||t)("span",{class:this.position},[this._v("\n  "+this._s(this._f("toReadablePosition")(this.position))+"\n")])},staticRenderFns:[]};var lt=r("VU/8")(ct,ut,!1,function(t){r("8BwI")},"data-v-31526c92",null).exports,dt={name:"ActiveOrderPageCardBodyNumberInput",data:function(){return{isUpdated:!1}},props:{value:{type:Number,require:!0},currency:{type:String,require:!0},active:{type:Boolean,require:!0}},methods:{updateValue:function(t){this.isUpdated=!0;var e=Number(t.target.value);this.$emit("input",e),this.$emit("change",e)}}},pt={render:function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"wrapper",class:{inactive:!t.active}},[r("div",{staticClass:"body"},[r("input",{attrs:{type:"number",readonly:!t.active},domProps:{value:t.value},on:{input:t.updateValue,focus:function(e){return t.$emit("focus",e)},blur:function(e){return t.$emit("blur",e)}}})]),t._v(" "),r("span",{staticClass:"append"},[t._v("\n    "+t._s(t.currency)+"\n  ")])])},staticRenderFns:[]};var mt=r("VU/8")(dt,pt,!1,function(t){r("QYXs")},"data-v-2e546b7c",null).exports,vt={name:"ActiveOrderPageCardBodySelect",props:{value:{type:String,require:!0},options:{type:Array,require:!0},active:{type:Boolean,default:!1}},data:function(){return{}},methods:{updateValue:function(t){this.$emit("input",t.target.value),this.$emit("change",t.target.value)}},mounted:function(){this.$emit("input",this.value)}},ft={render:function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("select",{attrs:{dir:"rtl",readonly:!t.active},on:{change:t.updateValue}},[t._l(t.options,function(e,a){return[r("option",{key:a,domProps:{value:e.value,selected:e.value===t.value}},[t._v("\n      "+t._s(e.text)+"\n    ")])]})],2)},staticRenderFns:[]};var ht={name:"ActiveOrderPageCardBody",data:function(){return{updating:!1,operation:{isSuccess:!1,message:""},form:{data:null,errors:{}},options:{sides:[{text:"買",value:"buy"},{text:"売",value:"sell"}],orderTypes:[{text:"成行",value:"market"},{text:"指値",value:"limit"},{text:"逆指値",value:"stop_market"},{text:"ストップリミット",value:"stop_limit"},{text:"トレール",value:"trail"}]}}},components:{OrderBadge:lt,ActiveOrderPageCardBodyNumberInput:mt,ActiveOrderPageCardBodySelect:r("VU/8")(vt,ft,!1,function(t){r("MSjv")},"data-v-34504d38",null).exports},props:{order:{type:Object,require:!0},position:{type:String,require:!0},symbol:{type:String,require:!0}},created:function(){this.form.data=this.order},watch:{order:function(t){this.form.data=t}},computed:{isLimitOrder:function(){return this.order.type.includes("limit")},isStopOrder:function(){return this.order.type.includes("stop")},isTrailOrder:function(){return this.order.type.includes("trail")},baseCurrency:function(){return this.symbol.split("/")[0]},quoteCurrency:function(){return this.symbol.split("/")[1]}},filters:{toReadableDate:function(t){return 0===t?"-":j()(t).format("YYYY/MM/DD HH:mm")},toJapaneseStatus:function(t){return"open"===t?"未約定":"PARTIALLY_FILLED"===t?"一部約定":"closed"===t?"約定済":"CANCELED_UNFILLED"===t?"キャンセル済":"CANCELED_PARTIALLY_FILLED"===t?"キャンセル済":"READY_TO_ORDER"===t?"注文準備完了":"WAIT_OTHER_ORDER_TO_FILL"===t?"他注文約定待":"FAILED_TO_ORDER"===t?"注文失敗":void 0},hyphenIfNull:function(t){return 0===t||!t||isNaN(t)?"-":t}},methods:{cancelOrder:function(){var t=h()(v.a.mark(function t(){var e,r,a,n;return v.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.operation.message="",this.updating=!0,t.prev=2,e="orders/"+this.form.data.auto_id,t.next=6,this.$store.dispatch("http/delete",{url:e},{root:!0});case 6:this.operation.isSuccess=!0,this.operation.message="キャンセルが成功しました",t.next=16;break;case 10:t.prev=10,t.t0=t.catch(2),r=t.t0.response,a=r.status,r.data,n=void 0,400===a?n="この注文はキャンセルできません":404===a&&(n="この注文は存在しません"),this.operation={isSuccess:!1,message:n};case 16:this.updating=!1,this.$emit("cancel",this.operation);case 18:case"end":return t.stop()}},t,this,[[2,10]])}));return function(){return t.apply(this,arguments)}}(),updateOrder:function(){var t=h()(v.a.mark(function t(){var e,r,a,n,s;return v.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.operation.message="",this.updating=!0,t.prev=2,e="orders/"+this.form.data.auto_id+"/",t.next=6,this.$store.dispatch("http/patch",{url:e,data:this.form.data},{root:!0});case 6:this.operation.isSuccess=!0,this.operation.message="更新が成功しました",t.next=17;break;case 10:t.prev=10,t.t0=t.catch(2),r=t.t0.response,a=r.status,n=r.data,s="",s+="更新に失敗しました\n",400===a?it()(n).forEach(function(t){s+=t+":"+n[t]+"\n"}):404===a&&(s="この注文は存在しません"),this.operation={isSuccess:!1,message:s};case 17:this.updating=!1,this.$emit("update",this.operation);case 19:case"end":return t.stop()}},t,this,[[2,10]])}));return function(){return t.apply(this,arguments)}}()}},_t={render:function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"wrapper"},[r("div",{directives:[{name:"show",rawName:"v-show",value:t.updating,expression:"updating"}],staticClass:"processing"}),t._v(" "),r("div",[r("table",[r("tr",[r("th",[t._v("注文ID")]),t._v(" "),r("td",{attrs:{colspan:"3"}},[t._v(t._s(t.order.id))])]),t._v(" "),r("tr",[r("th",[t._v("注文日時")]),t._v(" "),r("td",{attrs:{colspan:"3"}},[t._v(t._s(t._f("toReadableDate")(t.order.timestamp)))])]),t._v(" "),r("tr",[r("th",[t._v("売買")]),t._v(" "),r("td",[r("ActiveOrderPageCardBodySelect",{attrs:{options:this.options.sides,active:!t.updating},model:{value:t.form.data.side,callback:function(e){t.$set(t.form.data,"side",e)},expression:"form.data.side"}})],1),t._v(" "),r("th",[t._v("タイプ")]),t._v(" "),r("td",[r("ActiveOrderPageCardBodySelect",{attrs:{options:this.options.orderTypes,active:!t.updating},model:{value:t.form.data.type,callback:function(e){t.$set(t.form.data,"type",e)},expression:"form.data.type"}})],1)]),t._v(" "),r("tr",[r("th",[t._v("指値金額")]),t._v(" "),r("td",[r("ActiveOrderPageCardBodyNumberInput",{attrs:{active:!t.updating&&t.isLimitOrder,currency:t.quoteCurrency},model:{value:t.form.data.price,callback:function(e){t.$set(t.form.data,"price",e)},expression:"form.data.price"}})],1),t._v(" "),r("th",[t._v("逆指値価格")]),t._v(" "),r("td",[r("ActiveOrderPageCardBodyNumberInput",{attrs:{active:!t.updating&&t.isStopOrder,currency:t.quoteCurrency},model:{value:t.form.data.stop_price,callback:function(e){t.$set(t.form.data,"stop_price",e)},expression:"form.data.stop_price"}})],1)]),t._v(" "),r("tr",[r("th",[t._v("トレール幅")]),t._v(" "),r("td",[r("ActiveOrderPageCardBodyNumberInput",{attrs:{active:!t.updating&&t.isTrailOrder,currency:t.quoteCurrency},model:{value:t.form.data.trail_width,callback:function(e){t.$set(t.form.data,"trail_width",e)},expression:"form.data.trail_width"}})],1)]),t._v(" "),r("tr",[r("th",[t._v("数量")]),t._v(" "),r("td",[r("ActiveOrderPageCardBodyNumberInput",{attrs:{active:!t.updating,currency:t.baseCurrency},model:{value:t.form.data.amount,callback:function(e){t.$set(t.form.data,"amount",e)},expression:"form.data.amount"}})],1),t._v(" "),r("th",[t._v("約定数量")]),t._v(" "),r("td",[t._v(t._s(t._f("hyphenIfNull")(t.order.filled)))])]),t._v(" "),r("tr",[r("th",[t._v("平均価格")]),t._v(" "),r("td",[t._v(t._s(t._f("hyphenIfNull")(t.order.average)))]),t._v(" "),r("th",[t._v("ステータス")]),t._v(" "),r("td",[t._v(t._s(t._f("toJapaneseStatus")(t.order.status)))])]),t._v(" "),r("tr",[r("th",{attrs:{colspan:"3"}},[r("v-btn",{attrs:{text:"",color:"red",disabled:t.updating},on:{click:t.cancelOrder}},[t._v("\n            CANCEL\n          ")]),t._v(" "),r("v-btn",{attrs:{text:"",color:"teal",disabled:t.updating},on:{click:t.updateOrder}},[t._v("\n            UPDATE\n          ")])],1),t._v(" "),r("td",{attrs:{colspan:"1"}},[r("OrderBadge",{attrs:{position:t.position}})],1)])])])])},staticRenderFns:[]};var bt={name:"ActiveOrderPageCard",components:{ActiveOrderPageCardHeader:st,ActiveOrderPageCardBody:r("VU/8")(ht,_t,!1,function(t){r("raUa")},"data-v-885c8496",null).exports},props:{relation:{type:Object,require:!0}}},gt={render:function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-card",[r("ActiveOrderPageCardHeader",{attrs:{id:t.relation.id,market:t.relation.market,symbol:t.relation.symbol,placedAt:t.relation.placed_at,specialOrder:t.relation.special_order}}),t._v(" "),t.relation.order_1?r("ActiveOrderPageCardBody",{attrs:{order:t.relation.order_1,symbol:t.relation.symbol,position:"order1"},on:{cancel:function(e){return t.$emit("operation",e)},update:function(e){return t.$emit("operation",e)}}}):t._e(),t._v(" "),t.relation.order_2?r("ActiveOrderPageCardBody",{attrs:{order:t.relation.order_2,symbol:t.relation.symbol,position:"order2"},on:{cancel:function(e){return t.$emit("operation",e)},update:function(e){return t.$emit("operation",e)}}}):t._e(),t._v(" "),t.relation.order_3?r("ActiveOrderPageCardBody",{attrs:{order:t.relation.order_3,symbol:t.relation.symbol,position:"order3"},on:{cancel:function(e){return t.$emit("operation",e)},update:function(e){return t.$emit("operation",e)}}}):t._e()],1)},staticRenderFns:[]};var Ct=r("VU/8")(bt,gt,!1,function(t){r("OXIa")},"data-v-5e5db68d",null).exports,kt=r("Gu7T"),xt=r.n(kt),yt={props:{isActive:{type:Boolean,require:!0},disabled:{type:Boolean},value:{type:Number,require:!0}}},wt={render:function(){var t=this,e=t.$createElement;return(t._self._c||e)("button",{class:{active:t.isActive},on:{click:function(e){return t.$emit("click",t.value)}}},[t._v("\n  "+t._s(t.value)+"\n")])},staticRenderFns:[]};var Pt=r("VU/8")(yt,wt,!1,function(t){r("2mEB")},"data-v-7dc9ea5e",null).exports,Tt={props:{disabled:{type:Boolean},caption:{type:String,require:!0}}},Bt={render:function(){var t=this,e=t.$createElement;return(t._self._c||e)("button",{attrs:{disabled:t.disabled},on:{click:function(e){return t.$emit("click",null)}}},[t._v("\n  "+t._s(t.caption)+"\n")])},staticRenderFns:[]};var Ot={components:{CustomPaginationButton:Pt,CustomPaginationCommandButton:r("VU/8")(Tt,Bt,!1,function(t){r("qOZ/")},"data-v-b3ec00be",null).exports},props:{value:{type:Number,require:!0},length:{type:Number,require:!0},totalVisible:{type:Number,default:10}},methods:{onNext:function(){this.hasNext&&this.$emit("input",this.value+1)},onPrevious:function(){this.hasPrevious&&this.$emit("input",this.value-1)}},computed:{hasNext:function(){return this.value<this.length},hasPrevious:function(){return this.value>1},frontVisible:function(){var t=Math.ceil((this.totalVisible-3)/2),e=Math.floor((this.totalVisible-3)/2);e>this.length-this.value-1&&(t+=e-(this.length-this.value-1));var r=void 0;r=this.value-2<t?this.value-2:t;for(var a=[],n=this.value-r;n<this.value;n++)a.push(n);return console.log(a),a},visibleStart:function(){return this.frontVisible.length>0?this.frontVisible[0]:1===this.value?this.value+1:this.value},visibleEnd:function(){return this.postVisible.length>0?this.postVisible[this.postVisible.length-1]:this.value===this.length?this.value-1:this.value},postVisible:function(){var t=this.totalVisible-3-this.frontVisible.length;1===this.value&&(t+=1);var e=void 0;e=this.length-this.value-1<t?this.length-this.value-1:t;for(var r=[],a=this.value+1;a<=this.value+e;a++)r.push(a);return r},isFrontFlooded:function(){return this.frontVisible.length>0&&this.frontVisible[0]>2},isPostFlooded:function(){return this.postVisible.length>0&&this.postVisible[this.postVisible.length-1]<this.length-1},allPages:function(){return[].concat(xt()(Array(this.length).keys())).map(function(t){return++t})},visiblePages:function(){for(var t=[],e=this.visibleStart;e<=this.visibleEnd;e++)t.push(e);return t}},data:function(){return{}},created:function(){}},$t={render:function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("CustomPaginationCommandButton",{attrs:{disabled:!t.hasPrevious,caption:"<"},on:{click:t.onPrevious}}),t._v(" "),r("CustomPaginationButton",{attrs:{isActive:1===t.value,disabled:!1,value:1},on:{click:function(e){return t.$emit("input",e)}}}),t._v(" "),t.isFrontFlooded?r("span",[t._v("\n    ・・\n  ")]):t._e(),t._v(" "),t._l(t.visiblePages,function(e){return r("CustomPaginationButton",{key:e,attrs:{isActive:t.value===e,disabled:!1,value:e},on:{click:function(e){return t.$emit("input",e)}}})}),t._v(" "),t.isPostFlooded?r("span",[t._v("\n    ・・\n  ")]):t._e(),t._v(" "),t.length>1?r("CustomPaginationButton",{attrs:{isActive:t.value===t.length,disabled:!1,value:t.length},on:{click:function(e){return t.$emit("input",e)}}}):t._e(),t._v(" "),r("CustomPaginationCommandButton",{attrs:{disabled:!t.hasNext,caption:">"},on:{click:t.onNext}})],2)},staticRenderFns:[]};var jt=r("VU/8")(Ot,$t,!1,function(t){r("0vmf")},"data-v-56c62642",null).exports,At={components:{ActiveOrderPageCard:Ct,CustomSelect:N,CustomNumberInput:J,CustomPagination:jt,Modal:Z},data:function(){return{modal:!1,operation:{},data:[],searchCondition:{market:"",symbol:"",options:{markets:[{value:"all",text:"全て"},{text:"bitbank",value:"bitbank"},{text:"coincheck",value:"coincheck"}],symbols:[{value:"all",text:"全て"},{value:"BTC/JPY",text:"BTC/JPY"},{value:"XRP/JPY",text:"XRP/JPY"},{value:"LTC/BTC",text:"LTC/BTC"},{value:"ETH/BTC",text:"ETH/BTC"},{value:"MONA/JPY",text:"MONA/JPY"},{value:"MONA/BTC",text:"MONA/BTC"},{value:"BCC/JPY",text:"BCC/JPY"},{value:"BCC/BTC",text:"BCC/BTC"}]}},pagination:{length:10,page:1}}},watch:{"pagination.page":function(){var t=h()(v.a.mark(function t(e){return v.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.fetchData(e,this.searchCondition.market,this.searchCondition.symbol);case 2:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()},methods:{onSearchMarketChange:function(t){var e=this;return h()(v.a.mark(function r(){return v.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return"bitbank"===t?e.searchCondition.options.symbols=[{value:"all",text:"全て"},{value:"BTC/JPY",text:"BTC/JPY"},{value:"XRP/JPY",text:"XRP/JPY"},{value:"LTC/BTC",text:"LTC/BTC"},{value:"ETH/BTC",text:"ETH/BTC"},{value:"MONA/JPY",text:"MONA/JPY"},{value:"MONA/BTC",text:"MONA/BTC"},{value:"BCC/JPY",text:"BCC/JPY"},{value:"BCC/BTC",text:"BCC/BTC"}]:"coincheck"===t&&(e.searchCondition.options.symbols=[{value:"all",text:"全て"},{value:"BTC/JPY",text:"BTC/JPY"}]),r.next=3,e.fetchData(1,t,e.searchCondition.symbol);case 3:case"end":return r.stop()}},r,e)}))()},onSearchSymbolChange:function(t){var e=this;return h()(v.a.mark(function r(){return v.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,e.fetchData(1,e.searchCondition.market,t);case 2:case"end":return r.stop()}},r,e)}))()},fetchData:function(t,e,r){var a=this;return h()(v.a.mark(function n(){var s,o;return v.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return a.$emit("loading",!0),s="relations?market="+e+"&symbol="+r+"&page="+t,n.prev=2,n.next=5,a.$store.dispatch("http/get",{url:s},{root:!0});case 5:o=n.sent,console.log(a.data),a.data=o.data.result,a.pagination.length=o.data.page_count,a.pagination.page=t,n.next=15;break;case 12:n.prev=12,n.t0=n.catch(2),a.flash(n.t0,"error",{timeout:1500});case 15:a.$emit("loading",!1);case 16:case"end":return n.stop()}},n,a,[[2,12]])}))()},onOperation:function(t){var e=this;return h()(v.a.mark(function r(){return v.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:e.operation=t,e.modal=!0;case 2:case"end":return r.stop()}},r,e)}))()},onModalConfirm:function(){var t=this;return h()(v.a.mark(function e(){return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.modal=!1,e.next=3,t.fetchData(t.pagination.page,t.searchCondition.market,t.searchCondition.symbol);case 3:case"end":return e.stop()}},e,t)}))()}},created:function(){var t=this;return h()(v.a.mark(function e(){return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.fetchData(1,"bitbank","BTC/JPY");case 2:t.pagination.page=1;case 3:case"end":return e.stop()}},e,t)}))()}},St={render:function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("Modal",{directives:[{name:"show",rawName:"v-show",value:t.modal,expression:"modal"}],attrs:{isError:!t.operation.isSuccess},on:{close:t.onModalConfirm},scopedSlots:t._u([{key:"body",fn:function(){return[t._v("\n      "+t._s(t.operation.message)+"\n    ")]},proxy:!0}])}),t._v(" "),r("CustomSelect",{attrs:{placeholder:"検索取引所",name:"search_market",options:t.searchCondition.options.markets},on:{change:t.onSearchMarketChange},model:{value:t.searchCondition.market,callback:function(e){t.$set(t.searchCondition,"market",e)},expression:"searchCondition.market"}}),t._v(" "),r("CustomSelect",{attrs:{placeholder:"検索通貨",name:"search_symbol",options:t.searchCondition.options.symbols},on:{change:t.onSearchSymbolChange},model:{value:t.searchCondition.symbol,callback:function(e){t.$set(t.searchCondition,"symbol",e)},expression:"searchCondition.symbol"}}),t._v(" "),t._l(t.data,function(e,a){return r("ActiveOrderPageCard",{key:a,attrs:{relation:e},on:{operation:t.onOperation}})}),t._v(" "),r("p",{directives:[{name:"show",rawName:"v-show",value:0==t.data.length,expression:"data.length == 0"}]},[t._v("\n    アクティブな注文はありません\n  ")]),t._v(" "),r("CustomPagination",{directives:[{name:"show",rawName:"v-show",value:t.data.length>0,expression:"data.length > 0"}],attrs:{length:t.pagination.length},model:{value:t.pagination.page,callback:function(e){t.$set(t.pagination,"page",e)},expression:"pagination.page"}})],2)},staticRenderFns:[]};var Ft=r("VU/8")(At,St,!1,function(t){r("aWEb")},"data-v-26eb85aa",null).exports,Et={name:"OrderHistoryPageCard",data:function(){return{}},created:function(){console.log(this.order)},props:{order:{type:Object,require:!0}},filters:{toReadableDate:function(t){return j()(t).format("YYYY/MM/DD HH:mm")},toJapaneseStatus:function(t){return"open"===t?"未約定":"PARTIALLY_FILLED"===t?"一部約定":"closed"===t?"約定済":"CANCELED_UNFILLED"===t?"キャンセル済":"CANCELED_PARTIALLY_FILLED"===t?"キャンセル済":"READY_TO_ORDER"===t?"注文準備完了":"WAIT_OTHER_ORDER_TO_FILL"===t?"他注文約定待":"FAILED_TO_ORDER"===t?"注文失敗":void 0},hyphenIfNull:function(t){return 0===t||!t||isNaN(t)?"-":t},toJapaneseType:function(t){return"market"===t?"成行":"limit"===t?"指値":"stop_market"===t?"逆指値":"stop_limit"===t?"ストップリミット":"trail"===t?"トレール":void 0},toJapaneseSide:function(t){return"sell"===t?"売":"buy"===t?"買":void 0}}},It={render:function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-card",[r("table",[r("tr",[r("th",[t._v("取引所")]),t._v(" "),r("td",{attrs:{colspan:"3"}},[t._v(t._s(t.order.market))])]),t._v(" "),r("tr",[r("th",[t._v("注文ID")]),t._v(" "),r("td",[t._v(t._s(t.order.id))]),t._v(" "),r("th",[t._v("通貨")]),t._v(" "),r("td",[t._v(t._s(t.order.symbol))])]),t._v(" "),r("tr",[r("th",[t._v("タイプ")]),t._v(" "),r("td",[t._v(t._s(t._f("toJapaneseType")(t.order.type)))]),t._v(" "),r("th",[t._v("売/買")]),t._v(" "),r("td",[t._v(t._s(t._f("toJapaneseSide")(t.order.side)))])]),t._v(" "),r("tr",[r("th",[t._v("数量")]),t._v(" "),r("td",[t._v(t._s(t._f("hyphenIfNull")(t.order.amount)))]),t._v(" "),r("th",[t._v("指値価格")]),t._v(" "),r("td",[t._v(t._s(t._f("hyphenIfNull")(t.order.price)))])]),t._v(" "),r("tr",[r("th",[t._v("約定数量")]),t._v(" "),r("td",[t._v(t._s(t._f("hyphenIfNull")(t.order.filled)))]),t._v(" "),r("th",[t._v("平均価格")]),t._v(" "),r("td",[t._v(t._s(t._f("hyphenIfNull")(t.order.average)))])]),t._v(" "),r("tr",[r("th",[t._v("注文日時")]),t._v(" "),r("td",[t._v(t._s(t._f("toReadableDate")(t.order.timestamp)))]),t._v(" "),r("th",[t._v("ステータス")]),t._v(" "),r("td",[t._v(t._s(t._f("toJapaneseStatus")(t.order.status)))])])])])},staticRenderFns:[]};var Nt={components:{CustomSelect:N,CustomNumberInput:J,CustomTextInput:x,OrderHistoryPageCard:r("VU/8")(Et,It,!1,function(t){r("rAuA")},"data-v-f1af0128",null).exports,CustomPagination:jt},data:function(){return{searchCondition:{market:"",symbol:"",options:{markets:[{value:"all",text:"全て"},{text:"bitbank",value:"bitbank"},{text:"coincheck",value:"coincheck"}],symbols:[{value:"all",text:"全て"},{value:"BTC/JPY",text:"BTC/JPY"},{value:"XRP/JPY",text:"XRP/JPY"},{value:"LTC/BTC",text:"LTC/BTC"},{value:"ETH/BTC",text:"ETH/BTC"},{value:"MONA/JPY",text:"MONA/JPY"},{value:"MONA/BTC",text:"MONA/BTC"},{value:"BCC/JPY",text:"BCC/JPY"},{value:"BCC/BTC",text:"BCC/BTC"}]}},data:[],pagination:{length:0,page:1}}},computed:{quoteCurrency:function(){return this.register.symbol.split("_")[1]}},watch:{"pagination.page":function(){var t=h()(v.a.mark(function t(e){return v.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.fetchData(e,this.searchCondition.market,this.searchCondition.symbol);case 2:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()},methods:{onSearchMarketChange:function(t){var e=this;return h()(v.a.mark(function r(){return v.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return"bitbank"===t?e.searchCondition.options.symbols=[{value:"all",text:"全て"},{value:"BTC/JPY",text:"BTC/JPY"},{value:"XRP/JPY",text:"XRP/JPY"},{value:"LTC/BTC",text:"LTC/BTC"},{value:"ETH/BTC",text:"ETH/BTC"},{value:"MONA/JPY",text:"MONA/JPY"},{value:"MONA/BTC",text:"MONA/BTC"},{value:"BCC/JPY",text:"BCC/JPY"},{value:"BCC/BTC",text:"BCC/BTC"}]:"coincheck"===t&&(e.searchCondition.options.symbols=[{value:"all",text:"全て"},{value:"BTC/JPY",text:"BTC/JPY"}]),r.next=3,e.fetchData(1,t,e.searchCondition.symbol);case 3:case"end":return r.stop()}},r,e)}))()},onSearchSymbolChange:function(t){var e=this;return h()(v.a.mark(function r(){return v.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,e.fetchData(1,e.searchCondition.market,t);case 2:case"end":return r.stop()}},r,e)}))()},fetchData:function(t,e,r){var a=this;return h()(v.a.mark(function n(){var s,o;return v.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return a.$emit("loading",!0),s="history?market="+e+"&symbol="+r+"&page="+t,n.prev=2,n.next=5,a.$store.dispatch("http/get",{url:s},{root:!0});case 5:o=n.sent,a.data=o.data.result,a.pagination.length=o.data.page_count,n.next=13;break;case 10:n.prev=10,n.t0=n.catch(2),a.flash(n.t0,"error",{timeout:1500});case 13:a.$emit("loading",!1);case 14:case"end":return n.stop()}},n,a,[[2,10]])}))()}},created:function(){var t=this;return h()(v.a.mark(function e(){return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.fetchData(1,"all","all");case 2:case"end":return e.stop()}},e,t)}))()}},Rt={render:function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("CustomSelect",{attrs:{placeholder:"検索取引所",name:"search_market",options:t.searchCondition.options.markets},on:{change:t.onSearchMarketChange},model:{value:t.searchCondition.market,callback:function(e){t.$set(t.searchCondition,"market",e)},expression:"searchCondition.market"}}),t._v(" "),r("CustomSelect",{attrs:{placeholder:"検索通貨",name:"search_symbol",options:t.searchCondition.options.symbols},on:{change:t.onSearchSymbolChange},model:{value:t.searchCondition.symbol,callback:function(e){t.$set(t.searchCondition,"symbol",e)},expression:"searchCondition.symbol"}}),t._v(" "),t._l(t.data,function(t,e){return r("OrderHistoryPageCard",{key:e,attrs:{order:t}})}),t._v(" "),r("CustomPagination",{directives:[{name:"show",rawName:"v-show",value:t.data.length>0,expression:"data.length > 0"}],attrs:{length:t.pagination.length},model:{value:t.pagination.page,callback:function(e){t.$set(t.pagination,"page",e)},expression:"pagination.page"}}),t._v(" "),0===t.data.length?r("p",{staticClass:"alert"},[t._v("\n    通知設定がありません\n  ")]):t._e()],2)},staticRenderFns:[]};var Yt=r("VU/8")(Nt,Rt,!1,function(t){r("3+3J")},"data-v-53f86250",null).exports,Jt={data:function(){return{headers:[{text:"通貨",value:"asset"},{text:"残高",value:"free"}],total:0,bb_data:[],bb_error:!1,cc_data:[],cc_error:!1}},methods:{getTicker:function(t,e){var r=this;return h()(v.a.mark(function a(){var n;return v.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,r.$store.dispatch("http/get",{url:"ticker/?market="+t+"&symbol="+e});case 3:return n=a.sent,a.abrupt("return",n.data.last);case 7:a.prev=7,a.t0=a.catch(0);case 9:case"end":return a.stop()}},a,r,[[0,7]])}))()}},mounted:function(){var t=this;return h()(v.a.mark(function e(){var r,a,n;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.$emit("loading",!0),e.prev=1,e.next=4,t.$store.dispatch("http/get",{url:"assets?market=bitbank"},{root:!0});case 4:r=e.sent,t.bb_data=r.data,a=t,it()(t.bb_data).forEach(function(){var t=h()(v.a.mark(function t(e){var r,n,s;return v.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!["BTC","XRP","MONA","BCH"].includes(e)){t.next=7;break}return t.next=3,a.getTicker("bitbank",e+"/JPY");case 3:r=t.sent,a.total+=a.bb_data[e]*r,t.next=18;break;case 7:if("JPY"!==e){t.next=11;break}a.total+=a.bb_data[e],t.next=18;break;case 11:return t.next=13,a.getTicker("bitbank",e+"/BTC");case 13:return n=t.sent,t.next=16,a.getTicker("bitbank","BTC/JPY");case 16:s=t.sent,a.total+=a.bb_data[e]*n*s;case 18:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(1),console.log(e.t0),t.bb_error=!0;case 14:return e.prev=14,e.next=17,t.$store.dispatch("http/get",{url:"assets?market=coincheck"},{root:!0});case 17:n=e.sent,t.cc_data=n.data,it()(t.cc_data).forEach(function(){var t=h()(v.a.mark(function t(e){var r;return v.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!["BTC"].includes(e)){t.next=7;break}return t.next=3,vueinstance.getTicker("coincheck",e+"/JPY");case 3:r=t.sent,vueinstance.total+=vueinstance.cc_data[e]*r,t.next=8;break;case 7:"JPY"===e&&(vueinstance.total+=vueinstance.cc_data[e]);case 8:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()),e.next=25;break;case 22:e.prev=22,e.t1=e.catch(14),t.cc_error=!0;case 25:t.$emit("loading",!1);case 26:case"end":return e.stop()}},e,t,[[1,10],[14,22]])}))()}},Mt={render:function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("fieldset",[r("legend",[t._v("合計評価額")]),t._v(" "),r("table",[r("tr",[r("th",[t._v("JPY")]),t._v(" "),r("td",[t._v(t._s(parseInt(t.total)))])])])]),t._v(" "),r("fieldset",[r("legend",{attrs:{align:"left"}},[t._v("\n      bitbank\n    ")]),t._v(" "),r("span",{directives:[{name:"show",rawName:"v-show",value:t.bb_error,expression:"bb_error"}]},[t._v("\n        取得に失敗しました\n      ")]),t._v(" "),r("table",{directives:[{name:"show",rawName:"v-show",value:!t.bb_error,expression:"!bb_error"}]},[r("thead",[r("tr",t._l(t.headers,function(e,a){return r("th",{key:a},[t._v(t._s(e.text))])}),0)]),t._v(" "),r("tbody",t._l(t.bb_data,function(e,a){return r("tr",{key:a},[r("td",{attrs:{align:"center"}},[t._v(t._s(a))]),t._v(" "),r("td",{attrs:{align:"center"}},[t._v(t._s(e))])])}),0)])]),t._v(" "),r("fieldset",[r("legend",{attrs:{align:"left"}},[t._v("\n        coincheck\n      ")]),t._v(" "),r("span",{directives:[{name:"show",rawName:"v-show",value:t.cc_error,expression:"cc_error"}]},[t._v("\n          取得に失敗しました\n        ")]),t._v(" "),r("table",{directives:[{name:"show",rawName:"v-show",value:!t.cc_error,expression:"!cc_error"}]},[r("thead",[r("tr",t._l(t.headers,function(e,a){return r("th",{key:a},[t._v(t._s(e.text))])}),0)]),t._v(" "),r("tbody",t._l(t.cc_data,function(e,a){return r("tr",{key:a},[r("td",{attrs:{align:"center"}},[t._v(t._s(a))]),t._v(" "),r("td",{attrs:{align:"center"}},[t._v(t._s(e))])])}),0)])])])},staticRenderFns:[]};var qt=r("VU/8")(Jt,Mt,!1,function(t){r("jBYw")},"data-v-5ef439c2",null).exports,Vt={name:"CustomTextInputPrependPlaceholder",props:{value:{type:String},prepend_placeholder:{type:String,require:!0},name:{type:String,require:!0}}},Lt={render:function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"wrapper"},[r("span",{staticClass:"prepend"},[t._v("\n    "+t._s(t.prepend_placeholder)+"\n  ")]),t._v(" "),r("div",{staticClass:"body"},[r("input",{attrs:{type:"text"},domProps:{value:t.value},on:{input:function(e){return t.$emit("input",e.target.value)}}})])])},staticRenderFns:[]};var Dt=r("VU/8")(Vt,Lt,!1,function(t){r("SRFu")},"data-v-556d055e",null).exports,Ut={name:"AlertPageCard",data:function(){return{}},props:{alert:{type:Object,require:!0}},filters:{withOverOrUnder:function(t){console.log(t);var e=t.symbol.split("/")[1];return"over"===t.over_or_under?t.rate+""+e+"を超えたら":t.rate+""+e+"を下回ったら"}}},Ht={render:function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-card",[r("table",[r("tr",[r("th",[t._v("取引所")]),t._v(" "),r("td",[t._v(t._s(t.alert.market))]),t._v(" "),r("th",[t._v("通貨")]),t._v(" "),r("td",[t._v(t._s(t.alert.symbol))])]),t._v(" "),r("tr",[r("th",[t._v("通知レート")]),t._v(" "),r("td",{attrs:{colspan:"3"}},[t._v(t._s(t._f("withOverOrUnder")(t.alert)))])]),t._v(" "),r("tr",[r("th",[t._v("コメント")]),t._v(" "),r("td",{attrs:{colspan:"3"}},[t._v(t._s(t.alert.comment))])]),t._v(" "),r("tr",[r("th",[r("v-btn",{attrs:{color:"red accent-4"},on:{click:function(e){return t.$emit("delete",t.alert.id)}}},[t._v("\n            削除\n          ")])],1)])])])},staticRenderFns:[]};var zt={components:{CustomSelect:N,CustomNumberInput:J,CustomTextInputPrependPlaceholder:Dt,AlertPageCard:r("VU/8")(Ut,Ht,!1,function(t){r("Z1t+")},"data-v-53406fd4",null).exports,CustomToggleSwitch:V,CustomPagination:jt},data:function(){return{processing:!1,userSettings:{use_alert:null,notify_if_filled:null},register:{form:{market:"",symbol:"",rate:0,comment:""},options:{markets:[{text:"bitbank",value:"bitbank"},{text:"coincheck",value:"coincheck"}],symbols:[{value:"BTC/JPY",text:"BTC/JPY"},{value:"XRP/JPY",text:"XRP/JPY"},{value:"LTC/BTC",text:"LTC/BTC"},{value:"ETH/BTC",text:"ETH/BTC"},{value:"MONA/JPY",text:"MONA/JPY"},{value:"MONA/BTC",text:"MONA/BTC"},{value:"BCC/JPY",text:"BCC/JPY"},{value:"BCC/BTC",text:"BCC/BTC"}]}},searchCondition:{market:"",symbol:"",options:{markets:[{value:"all",text:"全て"},{text:"bitbank",value:"bitbank"},{text:"coincheck",value:"coincheck"}],symbols:[{value:"all",text:"全て"},{value:"BTC/JPY",text:"BTC/JPY"},{value:"XRP/JPY",text:"XRP/JPY"},{value:"LTC/BTC",text:"LTC/BTC"},{value:"ETH/BTC",text:"ETH/BTC"},{value:"MONA/JPY",text:"MONA/JPY"},{value:"MONA/BTC",text:"MONA/BTC"},{value:"BCC/JPY",text:"BCC/JPY"},{value:"BCC/BTC",text:"BCC/BTC"}]}},data:[],pagination:{length:2,page:1}}},computed:{quoteCurrency:function(){return this.register.form.symbol.split("/")[1]}},watch:{"pagination.page":function(){var t=h()(v.a.mark(function t(e){return v.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.fetchData(e,this.searchCondition.market,this.searchCondition.symbol);case 2:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()},methods:{onMarketChange:function(t){var e=this;return h()(v.a.mark(function r(){return v.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return"bitbank"===t?e.register.options.symbols=[{value:"BTC/JPY",text:"BTC/JPY"},{value:"XRP/JPY",text:"XRP/JPY"},{value:"LTC/BTC",text:"LTC/BTC"},{value:"ETH/BTC",text:"ETH/BTC"},{value:"MONA/JPY",text:"MONA/JPY"},{value:"MONA/BTC",text:"MONA/BTC"},{value:"BCC/JPY",text:"BCC/JPY"},{value:"BCC/BTC",text:"BCC/BTC"}]:"coincheck"===t&&(e.register.options.symbols=[{value:"BTC/JPY",text:"BTC/JPY"}]),r.next=3,e.updateTicker(t,e.register.form.symbol);case 3:case"end":return r.stop()}},r,e)}))()},onSearchMarketChange:function(t){var e=this;return h()(v.a.mark(function r(){return v.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return"bitbank"===t?e.searchCondition.options.symbols=[{value:"all",text:"全て"},{value:"BTC/JPY",text:"BTC/JPY"},{value:"XRP/JPY",text:"XRP/JPY"},{value:"LTC/BTC",text:"LTC/BTC"},{value:"ETH/BTC",text:"ETH/BTC"},{value:"MONA/JPY",text:"MONA/JPY"},{value:"MONA/BTC",text:"MONA/BTC"},{value:"BCC/JPY",text:"BCC/JPY"},{value:"BCC/BTC",text:"BCC/BTC"}]:"coincheck"===t&&(e.searchCondition.options.symbols=[{value:"all",text:"全て"},{value:"BTC/JPY",text:"BTC/JPY"}]),r.next=3,e.fetchData(1,t,e.searchCondition.symbol);case 3:case"end":return r.stop()}},r,e)}))()},onSymbolChange:function(t){var e=this;return h()(v.a.mark(function r(){return v.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,e.updateTicker(e.register.form.market,t);case 2:case"end":return r.stop()}},r,e)}))()},onSearchSymbolChange:function(t){var e=this;return h()(v.a.mark(function r(){return v.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,e.fetchData(1,e.searchCondition.market,t);case 2:case"end":return r.stop()}},r,e)}))()},patchUserSettings:function(){var t=this;return h()(v.a.mark(function e(){return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.$emit("loading",!0),e.prev=1,e.next=4,t.$store.dispatch("http/patch",{url:t.$store.getters["auth/userInfoPostUrl"],data:t.userSettings},{root:!0});case 4:t.flash("登録情報を更新しました","success",{timeout:1500}),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(1),console.log(e.t0.response.data),t.flash("登録情報の更新に失敗しました","error",{timeout:1500});case 11:t.$emit("loading",!0);case 12:case"end":return e.stop()}},e,t,[[1,7]])}))()},fetchData:function(t,e,r){var a=this;return h()(v.a.mark(function n(){var s,o;return v.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return a.$emit("loading",!0),s="alerts?market="+e+"&symbol="+r+"&page="+t,n.prev=2,n.next=5,a.$store.dispatch("http/get",{url:s},{root:!0});case 5:o=n.sent,a.pagination.length=o.data.page_count,a.data=o.data.result,a.userSettings.use_alert=o.data.user_settings.use_alert,a.userSettings.notify_if_filled=o.data.user_settings.notify_if_filled,n.next=15;break;case 12:n.prev=12,n.t0=n.catch(2),a.flash(n.t0,"error",{timeout:1500});case 15:a.$emit("loading",!1);case 16:case"end":return n.stop()}},n,a,[[2,12]])}))()},deleteAlert:function(t){var e=this;return h()(v.a.mark(function r(){var a;return v.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return a="alerts/"+t+"/",r.prev=1,r.next=4,e.$store.dispatch("http/delete",{url:a},{root:!0});case 4:e.flash("通知設定を解除しました","success",{timeout:1500}),r.next=10;break;case 7:r.prev=7,r.t0=r.catch(1),e.flash(r.t0,"error",{timeout:1500});case 10:return r.next=12,e.fetchData(e.pagination.page,e.searchCondition.market,e.searchCondition.symbol);case 12:case"end":return r.stop()}},r,e,[[1,7]])}))()},updateTicker:function(t,e){var r=this;return h()(v.a.mark(function a(){var n;return v.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return r.$emit("loading",!0),a.prev=1,a.next=4,r.$store.dispatch("http/get",{url:"ticker?market="+t+"&symbol="+e},{root:!0});case 4:n=a.sent,r.register.form.rate=parseFloat(n.data.last),a.next=12;break;case 8:a.prev=8,a.t0=a.catch(1),console.log(a.t0.response),console.log(a.t0);case 12:r.$emit("loading",!1);case 13:case"end":return a.stop()}},a,r,[[1,8]])}))()},createAlert:function(){var t=this;return h()(v.a.mark(function e(){var r;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.processing=!0,r="alerts/",e.prev=2,e.next=5,t.$store.dispatch("http/post",{url:r,data:t.register.form},{root:!0});case 5:t.flash("通知設定を追加しました","success",{timeout:1500}),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(2),400===e.t0.response.status&&console.log(e.t0.response.data),t.flash(e.t0,"error",{timeout:1500});case 12:return t.processing=!1,e.next=15,t.fetchData(t.pagination.page,t.searchCondition.market,t.searchCondition.symbol);case 15:case"end":return e.stop()}},e,t,[[2,8]])}))()}},mounted:function(){var t=this;return h()(v.a.mark(function e(){return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.updateTicker(t.register.form.market,t.register.form.symbol);case 2:return e.next=4,t.fetchData(1,"all","all");case 4:case"end":return e.stop()}},e,t)}))()}},Xt={render:function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("fieldset",[r("legend",{attrs:{align:"left"}},[t._v("通知切り替え")]),t._v(" "),r("span",[t._v("\n      通知設定\n    ")]),t._v(" "),r("CustomToggleSwitch",{attrs:{caption:{on:"ON",off:"OFF"}},model:{value:t.userSettings.notify_if_filled,callback:function(e){t.$set(t.userSettings,"notify_if_filled",e)},expression:"userSettings.notify_if_filled"}}),t._v(" "),r("span",[t._v("\n      アラートメール通知\n    ")]),t._v(" "),r("CustomToggleSwitch",{attrs:{caption:{on:"ON",off:"OFF"}},model:{value:t.userSettings.use_alert,callback:function(e){t.$set(t.userSettings,"use_alert",e)},expression:"userSettings.use_alert"}})],1),t._v(" "),r("div",[r("div",{directives:[{name:"show",rawName:"v-show",value:t.processing,expression:"processing"}],staticClass:"processing"}),t._v(" "),r("div",[r("fieldset",[r("legend",{attrs:{align:"left"}},[t._v("内容設定")]),t._v(" "),r("CustomSelect",{attrs:{placeholder:"取引所",name:"market",options:t.register.options.markets,active:!t.processing},on:{change:t.onMarketChange},model:{value:t.register.form.market,callback:function(e){t.$set(t.register.form,"market",e)},expression:"register.form.market"}}),t._v(" "),r("CustomSelect",{attrs:{placeholder:"通貨",name:"symbol",options:t.register.options.symbols,active:!t.processing},on:{change:t.onSymbolChange},model:{value:t.register.form.symbol,callback:function(e){t.$set(t.register.form,"symbol",e)},expression:"register.form.symbol"}}),t._v(" "),r("CustomNumberInput",{attrs:{prepend_placeholder:"通知レート",append_placeholder:t.quoteCurrency,name:"rate",type:"number",active:!t.processing},model:{value:t.register.form.rate,callback:function(e){t.$set(t.register.form,"rate",t._n(e))},expression:"register.form.rate"}}),t._v(" "),r("CustomTextInputPrependPlaceholder",{attrs:{prepend_placeholder:"コメント",active:!t.processing},model:{value:t.register.form.comment,callback:function(e){t.$set(t.register.form,"comment",e)},expression:"register.form.comment"}}),t._v(" "),r("div",{staticClass:"btn_wrapper"},[r("v-btn",{attrs:{color:"teal",disabled:t.processing},on:{click:t.createAlert}},[t._v("\n            登録\n          ")])],1)],1)])]),t._v(" "),r("fieldset",[r("legend",{attrs:{align:"left"}},[t._v("検索設定")]),t._v(" "),r("CustomSelect",{attrs:{placeholder:"検索取引所",name:"search_market",options:t.searchCondition.options.markets},on:{change:t.onSearchMarketChange},model:{value:t.searchCondition.market,callback:function(e){t.$set(t.searchCondition,"market",e)},expression:"searchCondition.market"}}),t._v(" "),r("CustomSelect",{attrs:{placeholder:"検索通貨",name:"search_symbol",options:t.searchCondition.options.symbols},on:{change:t.onSearchSymbolChange},model:{value:t.searchCondition.symbol,callback:function(e){t.$set(t.searchCondition,"symbol",e)},expression:"searchCondition.symbol"}})],1),t._v(" "),r("div",{staticStyle:{height:"20px"}}),t._v(" "),t._l(t.data,function(e,a){return r("AlertPageCard",{key:a,attrs:{alert:e},on:{delete:t.deleteAlert}})}),t._v(" "),r("CustomPagination",{directives:[{name:"show",rawName:"v-show",value:t.data.length>0,expression:"data.length > 0"}],attrs:{length:t.pagination.length},model:{value:t.pagination.page,callback:function(e){t.$set(t.pagination,"page",e)},expression:"pagination.page"}}),t._v(" "),0===t.data.length?r("p",{staticClass:"alert"},[t._v("\n    通知設定がありません\n  ")]):t._e()],2)},staticRenderFns:[]};var Qt=r("VU/8")(zt,Xt,!1,function(t){r("4rW+")},"data-v-7f19e6f8",null).exports,Wt={name:"CustomTextArea",props:{value:{type:String,require:!0}},methods:{updateValue:function(t){this.$emit("input",t.target.value)}}},Gt={render:function(){var t=this.$createElement;return(this._self._c||t)("textarea",{domProps:{value:this.value},on:{input:this.updateValue}})},staticRenderFns:[]};var Kt=r("VU/8")(Wt,Gt,!1,function(t){r("70yS")},"data-v-c5c7016a",null).exports,Zt=["jpg","jpeg","png","bmp","gif"],te={name:"ContactPageFileInput",props:{value:{type:Array}},data:function(){return{post:{content:"",uploadedImages:[]},uploadedImagesForView:[],isError:!1,errorMessage:""}},mounted:function(){var t=this;this.post.uploadedImages=this.value,this.value.forEach(function(e){t.createImage(e)})},methods:{pickImage:function(){this.$refs.image.click()},onFileChange:function(t){for(var e=t.target.files||t.dataTransfer.files,r=e[0].type,a=!1,n=0;n<Zt.length;n++){var s=Zt[n];if(r.indexOf(s)>-1){a=!0;break}}return a?e[0].size>2e6?(this.isError=!0,void(this.errorMessage="ファイルサイズが大きすぎます。")):this.post.uploadedImages.length+1>3?(this.isError=!0,void(this.errorMessage="アップロードできるファイルは最大3ファイルです。")):(this.post.uploadedImages.push(e[0]),this.createImage(e[0]),this.$emit("input",this.post.uploadedImages),void this.$emit("change",this.post.uploadedImages)):(this.isError=!0,void(this.errorMessage="アップロードできるファイルは画像のみです。"))},createImage:function(t){var e=this,r=new FileReader;r.onload=function(t){var r=t.target.result;e.uploadedImagesForView.push(r)},r.readAsDataURL(t)},clearImage:function(t){this.uploadedImagesForView.splice(t,1),this.post.uploadedImages.splice(t,1),this.$emit("input",this.post.uploadedImages),this.$emit("change",this.post.uploadedImages)}},components:{}},ee={render:function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("v-btn",{attrs:{color:"teal"},on:{click:t.pickImage}},[t._v("\n    画像を追加\n  ")]),t._v(" "),r("input",{ref:"image",staticStyle:{display:"none"},attrs:{type:"file",mulitple:"multiple"},on:{change:t.onFileChange}}),t._v(" "),t._l(t.uploadedImagesForView,function(e,a){return r("div",{key:a,staticClass:"uploadImage"},[r("v-btn",{staticClass:"clearImage",attrs:{fab:"",color:"primary"},on:{click:function(e){return t.clearImage(a)}}},[r("v-icon",[t._v("\n        clear\n      ")])],1),t._v(" "),r("img",{attrs:{src:e}})],1)})],2)},staticRenderFns:[]};var re={components:{CustomTextInput:x,CustomTextArea:Kt,ContactPageFileInput:r("VU/8")(te,ee,!1,function(t){r("q1LI")},"data-v-27eb6b52",null).exports},data:function(){return{processing:!1,form:{data:{time:j()().format("YYYY/MM/DD HH:mm"),id:"",name:"",email_for_reply:"",subject:"",body:"",attachments:[]}}}},watch:{"form.data.attachments":function(){console.log(this.form.data.attachments)}},created:function(){var t=this;return h()(v.a.mark(function e(){var r;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.$emit("loading",!0),e.prev=1,e.next=4,t.$store.dispatch("http/get",{url:t.$store.getters["auth/userInfoGetUrl"]},{root:!0});case 4:r=e.sent,t.form.data.id=r.data.id,t.form.data.name=r.data.full_name,t.form.data.email_for_reply=r.data.email_for_notice,e.next=13;break;case 10:throw e.prev=10,e.t0=e.catch(1),e.t0;case 13:t.$emit("loading",!1);case 14:case"end":return e.stop()}},e,t,[[1,10]])}))()},methods:{postContact:function(){var t=h()(v.a.mark(function t(){var e,r,a,n,s;return v.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:for(this.processing=!0,e={headers:{"content-type":"multipart/form-data"}},(r=new FormData).append("subject",this.form.data.subject),r.append("body",this.form.data.body),r.append("email_for_reply",this.form.data.email_for_reply),a=1;a<=this.form.data.attachments.length;a++)n="attachment_"+a,r.append(n,this.form.data.attachments[a-1]);return s="contact/",t.prev=8,t.next=11,this.$store.dispatch("http/post",{url:s,data:r,config:e},{root:!0});case 11:this.flash("問い合せが完了しました","success",{timeout:3e3}),t.next=17;break;case 14:t.prev=14,t.t0=t.catch(8),console.log(t.t0);case 17:this.processing=!1;case 18:case"end":return t.stop()}},t,this,[[8,14]])}));return function(){return t.apply(this,arguments)}}()}},ae={render:function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("table",[r("tr",[r("th",[t._v("\n        問い合せ日時\n      ")]),t._v(" "),r("td",[t._v("\n        "+t._s(t.form.data.time)+"\n      ")])]),t._v(" "),r("tr",[r("th",[t._v("\n        名前\n      ")]),t._v(" "),r("td",[r("CustomTextInput",{model:{value:t.form.data.name,callback:function(e){t.$set(t.form.data,"name",e)},expression:"form.data.name"}})],1)]),t._v(" "),r("tr",[r("th",[t._v("\n        メールアドレス\n      ")]),t._v(" "),r("td",[r("CustomTextInput",{model:{value:t.form.data.email_for_reply,callback:function(e){t.$set(t.form.data,"email_for_reply",e)},expression:"form.data.email_for_reply"}})],1)]),t._v(" "),r("tr",[r("th",[t._v("\n        件名\n      ")]),t._v(" "),r("td",[r("CustomTextInput",{model:{value:t.form.data.subject,callback:function(e){t.$set(t.form.data,"subject",e)},expression:"form.data.subject"}})],1)]),t._v(" "),r("tr",[r("th",[t._v("\n        内容\n      ")]),t._v(" "),r("td",[r("CustomTextArea",{model:{value:t.form.data.body,callback:function(e){t.$set(t.form.data,"body",e)},expression:"form.data.body"}})],1)]),t._v(" "),r("tr",[r("th",[t._v("\n        添付ファイル\n      ")]),t._v(" "),r("td",[r("ContactPageFileInput",{model:{value:t.form.data.attachments,callback:function(e){t.$set(t.form.data,"attachments",e)},expression:"form.data.attachments"}})],1)])]),t._v(" "),r("v-btn",{staticClass:"submit",attrs:{color:"teal",block:"",loading:t.processing,disabled:t.processing},on:{click:t.postContact}},[t._v("\n    送信\n  ")])],1)},staticRenderFns:[]};var ne=r("VU/8")(re,ae,!1,function(t){r("QCMw")},"data-v-4a6961e0",null).exports,se={components:{CustomTextInput:x,CustomPasswordInput:P,CustomToggleSwitch:V,FormErrorMessage:O},data:function(){return{form:{data:{email:"",full_name:"",bb_api_key:"",bb_api_secret_key:"",cc_api_key:"",cc_api_secret_key:"",email_for_notice:"",notify_if_filled:!1,use_alert:!1,password:"",password2:""},errors:{}}}},created:function(){var t=this;return h()(v.a.mark(function e(){return v.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}},e,t)}))()},methods:{checkPasswordConfirmation:function(){return this.form.data.password===this.form.data.password2||(this.form.errors={password:["確認用パスワードと一致しません"]},!1)},signup:function(){var t=h()(v.a.mark(function t(){var e;return v.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.checkPasswordConfirmation()){t.next=2;break}return t.abrupt("return");case 2:return this.form.errors={},e="signup/",t.prev=4,t.next=7,this.$store.dispatch("http/post",{url:e,data:this.form.data},{root:!0});case 7:this.flash("本登録用リンクを送付しました","success",{timeout:1500}),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(4),400===t.t0.response.status&&(this.form.errors=t.t0.response.data,console.log(this.form.errors)),this.flash(t.t0,"error",{timeout:1500});case 14:case"end":return t.stop()}},t,this,[[4,10]])}));return function(){return t.apply(this,arguments)}}()}},oe={render:function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("CustomTextInput",{attrs:{placeholder:"登録メールアドレス"},model:{value:t.form.data.email,callback:function(e){t.$set(t.form.data,"email",e)},expression:"form.data.email"}}),t._v(" "),r("FormErrorMessage",{attrs:{errors:t.form.errors.email}}),t._v(" "),r("div",{staticClass:"spacer"}),t._v(" "),r("CustomTextInput",{attrs:{placeholder:"名前(本名)"},model:{value:t.form.data.full_name,callback:function(e){t.$set(t.form.data,"full_name",e)},expression:"form.data.full_name"}}),t._v(" "),r("FormErrorMessage",{attrs:{errors:t.form.errors.full_name}}),t._v(" "),r("div",{staticClass:"spacer"}),t._v(" "),r("CustomTextInput",{attrs:{placeholder:"bitbank API Key"},model:{value:t.form.data.bb_api_key,callback:function(e){t.$set(t.form.data,"bb_api_key",e)},expression:"form.data.bb_api_key"}}),t._v(" "),r("FormErrorMessage",{attrs:{errors:t.form.errors.bb_api_key}}),t._v(" "),r("div",{staticClass:"spacer"}),t._v(" "),r("CustomTextInput",{attrs:{placeholder:"bitbank Secret Key"},model:{value:t.form.data.bb_api_secret_key,callback:function(e){t.$set(t.form.data,"bb_api_secret_key",e)},expression:"form.data.bb_api_secret_key"}}),t._v(" "),r("FormErrorMessage",{attrs:{errors:t.form.errors.bb_api_secret_key}}),t._v(" "),r("div",{staticClass:"spacer"}),t._v(" "),r("CustomTextInput",{attrs:{placeholder:"coincheck API Key"},model:{value:t.form.data.cc_api_key,callback:function(e){t.$set(t.form.data,"cc_api_key",e)},expression:"form.data.cc_api_key"}}),t._v(" "),r("FormErrorMessage",{attrs:{errors:t.form.errors.cc_api_key}}),t._v(" "),r("div",{staticClass:"spacer"}),t._v(" "),r("CustomTextInput",{attrs:{placeholder:"coincheck Secret Key"},model:{value:t.form.data.cc_api_secret_key,callback:function(e){t.$set(t.form.data,"cc_api_secret_key",e)},expression:"form.data.cc_api_secret_key"}}),t._v(" "),r("FormErrorMessage",{attrs:{errors:t.form.errors.cc_api_secret_key}}),t._v(" "),r("div",{staticClass:"spacer"}),t._v(" "),r("CustomTextInput",{attrs:{placeholder:"通知用メールアドレス"},model:{value:t.form.data.email_for_notice,callback:function(e){t.$set(t.form.data,"email_for_notice",e)},expression:"form.data.email_for_notice"}}),t._v(" "),r("FormErrorMessage",{attrs:{errors:t.form.errors.email_for_notice}}),t._v(" "),r("div",{staticClass:"spacer"}),t._v(" "),r("span",[t._v("\n    約定通知\n  ")]),t._v(" "),r("CustomToggleSwitch",{attrs:{caption:{on:"ON",off:"OFF"}},model:{value:t.form.data.notify_if_filled,callback:function(e){t.$set(t.form.data,"notify_if_filled",e)},expression:"form.data.notify_if_filled"}}),t._v(" "),r("div",{staticClass:"spacer"}),t._v(" "),r("span",[t._v("\n    アラートメール通知\n  ")]),t._v(" "),r("CustomToggleSwitch",{attrs:{caption:{on:"ON",off:"OFF"}},model:{value:t.form.data.use_alert,callback:function(e){t.$set(t.form.data,"use_alert",e)},expression:"form.data.use_alert"}}),t._v(" "),r("div",{staticClass:"spacer"}),t._v(" "),r("CustomPasswordInput",{attrs:{placeholder:"パスワード"},model:{value:t.form.data.password,callback:function(e){t.$set(t.form.data,"password",e)},expression:"form.data.password"}}),t._v(" "),r("FormErrorMessage",{attrs:{errors:t.form.errors.password}}),t._v(" "),r("div",{staticClass:"spacer"}),t._v(" "),r("CustomPasswordInput",{attrs:{placeholder:"パスワード確認用"},model:{value:t.form.data.password2,callback:function(e){t.$set(t.form.data,"password2",e)},expression:"form.data.password2"}}),t._v(" "),r("div",{staticClass:"spacer"}),t._v(" "),r("v-btn",{attrs:{color:"teal",block:""},on:{click:t.signup}},[t._v("\n    登録\n  ")])],1)},staticRenderFns:[]};var ie=r("VU/8")(se,oe,!1,function(t){r("k+DS")},"data-v-27837cd8",null).exports,ce={components:{CustomTextInput:x,CustomPasswordInput:P,CustomToggleSwitch:V,FormErrorMessage:O},data:function(){return{form:{data:{email:"",new_password_1:"",new_password_2:""},errors:{}}}},created:function(){var t=this;return h()(v.a.mark(function e(){return v.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}},e,t)}))()},methods:{checkPasswordConfirmation:function(){return this.form.data.password===this.form.data.password2||(this.form.errors={password:["確認用パスワードと一致しません"]},!1)},sendlink:function(){var t=h()(v.a.mark(function t(){var e,r;return v.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.form.errors={},e="password-reset?email="+this.form.data.email,t.prev=2,t.next=5,this.$store.dispatch("http/get",{url:e},{root:!0});case 5:this.flash("再設定用トークンを送付しました","success",{timeout:1500}),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(2),400===(r=t.t0.response.status)?(this.form.errors=t.t0.response.data,console.log(this.form.errors)):404===r&&(this.form.errors={email:["登録されていないメールアドレスです"]},console.log(t.t0.response.data));case 12:case"end":return t.stop()}},t,this,[[2,8]])}));return function(){return t.apply(this,arguments)}}(),post:function(){var t=h()(v.a.mark(function t(){var e;return v.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.checkPasswordConfirmation()){t.next=2;break}return t.abrupt("return");case 2:return this.form.errors={},e="password-reset/",t.prev=4,t.next=7,this.$store.dispatch("http/post",{url:e,data:this.form.data},{root:!0});case 7:this.flash("パスワードを変更しました","success",{timeout:1500}),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(4),400===t.t0.response.status&&(this.form.errors=t.t0.response.data);case 13:case"end":return t.stop()}},t,this,[[4,10]])}));return function(){return t.apply(this,arguments)}}()}},ue={render:function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("fieldset",[r("legend",[t._v("トークン送付")]),t._v(" "),r("CustomTextInput",{attrs:{placeholder:"登録メールアドレス"},model:{value:t.form.data.email,callback:function(e){t.$set(t.form.data,"email",e)},expression:"form.data.email"}}),t._v(" "),r("FormErrorMessage",{attrs:{errors:t.form.errors.email}}),t._v(" "),r("div",{staticClass:"spacer"}),t._v(" "),r("v-btn",{attrs:{block:"",color:"teal"},on:{click:t.sendlink}},[t._v("\n      トークン送付\n    ")])],1),t._v(" "),r("div",{staticClass:"spacer"}),t._v(" "),r("fieldset",[r("legend",[t._v("再設定")]),t._v(" "),r("CustomPasswordInput",{attrs:{placeholder:"新しいパスワード"},model:{value:t.form.data.new_password_1,callback:function(e){t.$set(t.form.data,"new_password_1",e)},expression:"form.data.new_password_1"}}),t._v(" "),r("FormErrorMessage",{attrs:{errors:t.form.errors.new_password_1}}),t._v(" "),r("div",{staticClass:"spacer"}),t._v(" "),r("CustomPasswordInput",{attrs:{placeholder:"パスワード確認用"},model:{value:t.form.data.new_password_2,callback:function(e){t.$set(t.form.data,"new_password_2",e)},expression:"form.data.new_password_2"}}),t._v(" "),r("FormErrorMessage",{attrs:{errors:t.form.errors.new_password_2}}),t._v(" "),r("div",{staticClass:"spacer"}),t._v(" "),r("CustomTextInput",{attrs:{placeholder:"トークン"},model:{value:t.form.data.token,callback:function(e){t.$set(t.form.data,"token",e)},expression:"form.data.token"}}),t._v(" "),r("FormErrorMessage",{attrs:{errors:t.form.errors.token}}),t._v(" "),r("div",{staticClass:"spacer"}),t._v(" "),r("v-btn",{attrs:{color:"teal",block:""},on:{click:t.post}},[t._v("\n      登録\n    ")])],1)])},staticRenderFns:[]};var le=r("VU/8")(ce,ue,!1,function(t){r("6guv")},"data-v-55d23e08",null).exports,de=r("NYxO"),pe=r("424j"),me={namespaced:!0,state:{userid:"",username:"",token:""},mutations:{create:function(t,e){t.userid=e.userid,t.token=e.token,t.username=e.username},destroy:function(t){t.userid="",t.username="",t.token=""}},getters:{isAuthenticated:function(t,e){return""!==t.token},userInfoGetUrl:function(t,e){return"users/"+t.userid},userInfoPostUrl:function(t,e){return e.userInfoGetUrl+"/"}},actions:{create:function(t,e){var r=this,a=t.commit,n=t.dispatch;return h()(v.a.mark(function t(){var s;return v.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,n("http/post",{url:"get-token/",data:e},{root:!0});case 3:(s=t.sent).data.token&&(console.log(s.data),a("create",{userid:s.data.id,username:e.username,token:s.data.token})),t.next=10;break;case 7:throw t.prev=7,t.t0=t.catch(0),t.t0;case 10:case"end":return t.stop()}},t,r,[[0,7]])}))()},destroy:function(t,e){var r=t.commit;t.dispatch;r("destroy")}}},ve=r("mtWM"),fe=r.n(ve),he={namespaced:!0,actions:{request:function(t,e){var r=this,a=(t.dispatch,t.rootState),n=e.method,s=e.url,o=e.data;e.error;return h()(v.a.mark(function t(){var e,i;return v.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return(e={})["Content-Type"]="application/json",a.auth.token&&(e.Authorization="Token "+a.auth.token),i={method:n,url:"https://bitbank-order.com/v3/api/"+s,headers:e,data:o,timeout:15e3},t.prev=4,console.log(i),t.next=8,fe()(i);case 8:return t.abrupt("return",t.sent);case 11:throw t.prev=11,t.t0=t.catch(4),t.t0;case 14:case"end":return t.stop()}},t,r,[[4,11]])}))()},post:function(t,e){var r=this,a=t.dispatch;return h()(v.a.mark(function t(){return v.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.method="post",t.abrupt("return",a("request",e));case 2:case"end":return t.stop()}},t,r)}))()},delete:function(t,e){var r=this,a=t.dispatch;return h()(v.a.mark(function t(){return v.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.method="delete",t.abrupt("return",a("request",e));case 2:case"end":return t.stop()}},t,r)}))()},patch:function(t,e){var r=this,a=t.dispatch;return h()(v.a.mark(function t(){return v.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.method="patch",t.abrupt("return",a("request",e));case 2:case"end":return t.stop()}},t,r)}))()},get:function(t,e){var r=this,a=t.dispatch;return h()(v.a.mark(function t(){return v.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.method="get",t.abrupt("return",a("request",e));case 2:case"end":return t.stop()}},t,r)}))()}}};a.default.use(de.a);var _e=new de.a.Store({modules:{auth:me,http:he},plugins:[Object(pe.a)({key:"example",storage:window.sessionStorage})]});a.default.use(p.a);var be=new p.a({routes:[{path:"/login",name:"login",component:g,meta:{caption:"ログイン",isPublic:!0}},{path:"/signup",name:"signup",component:ie,meta:{caption:"会員登録",isPublic:!0}},{path:"/passwordreset",name:"passwordreset",component:le,meta:{caption:"パスワードリセット",isPublic:!0}},{path:"/order",name:"order",component:rt,meta:{caption:"注文する",isPublic:!1}},{path:"/active",name:"active",component:Ft,meta:{caption:"発注一覧",isPublic:!1}},{path:"/history",name:"history",component:Yt,meta:{caption:"注文履歴",isPublic:!1}},{path:"/alert",name:"alert",component:Qt,meta:{caption:"通知設定",isPublic:!1}},{path:"/asset",name:"asset",component:qt,meta:{caption:"保有資産",isPublic:!1}},{path:"/info",name:"info",component:F,meta:{caption:"登録情報",isPublic:!1}},{path:"/contact",name:"contact",component:ne,meta:{caption:"問い合せ",isPublic:!1}}]});be.beforeEach(function(t,e,r){t.matched.some(function(t){return t.meta.isPublic})||_e.state.auth.token?r():r("/login")});var ge=be,Ce=r("3EgV"),ke=r.n(Ce),xe=r("pERe"),ye=r.n(xe);a.default.config.productionTip=!1,r("ayht"),a.default.use(ye.a),a.default.use(ke.a);new a.default({el:"#app",router:ge,store:_e,vuetify:new ke.a({theme:{dark:!0}}),components:{App:d},template:"<App/>"})},OXIa:function(t,e){},QCMw:function(t,e){},QTRp:function(t,e){},QYXs:function(t,e){},SRFu:function(t,e){},W4n4:function(t,e){},WZIQ:function(t,e){},XCQl:function(t,e){},"Z1t+":function(t,e){},aWEb:function(t,e){},ayht:function(t,e){},jBYw:function(t,e){},"k+DS":function(t,e){},lxH6:function(t,e){},oaQU:function(t,e){},oldO:function(t,e){},q1LI:function(t,e){},"qOZ/":function(t,e){},rAuA:function(t,e){},raUa:function(t,e){},tVF0:function(t,e){},uslO:function(t,e,r){var a={"./af":"3CJN","./af.js":"3CJN","./ar":"3MVc","./ar-dz":"tkWw","./ar-dz.js":"tkWw","./ar-kw":"j8cJ","./ar-kw.js":"j8cJ","./ar-ly":"wPpW","./ar-ly.js":"wPpW","./ar-ma":"dURR","./ar-ma.js":"dURR","./ar-sa":"7OnE","./ar-sa.js":"7OnE","./ar-tn":"BEem","./ar-tn.js":"BEem","./ar.js":"3MVc","./az":"eHwN","./az.js":"eHwN","./be":"3hfc","./be.js":"3hfc","./bg":"lOED","./bg.js":"lOED","./bm":"hng5","./bm.js":"hng5","./bn":"aM0x","./bn.js":"aM0x","./bo":"w2Hs","./bo.js":"w2Hs","./br":"OSsP","./br.js":"OSsP","./bs":"aqvp","./bs.js":"aqvp","./ca":"wIgY","./ca.js":"wIgY","./cs":"ssxj","./cs.js":"ssxj","./cv":"N3vo","./cv.js":"N3vo","./cy":"ZFGz","./cy.js":"ZFGz","./da":"YBA/","./da.js":"YBA/","./de":"DOkx","./de-at":"8v14","./de-at.js":"8v14","./de-ch":"Frex","./de-ch.js":"Frex","./de.js":"DOkx","./dv":"rIuo","./dv.js":"rIuo","./el":"CFqe","./el.js":"CFqe","./en-SG":"oYA3","./en-SG.js":"oYA3","./en-au":"Sjoy","./en-au.js":"Sjoy","./en-ca":"Tqun","./en-ca.js":"Tqun","./en-gb":"hPuz","./en-gb.js":"hPuz","./en-ie":"ALEw","./en-ie.js":"ALEw","./en-il":"QZk1","./en-il.js":"QZk1","./en-nz":"dyB6","./en-nz.js":"dyB6","./eo":"Nd3h","./eo.js":"Nd3h","./es":"LT9G","./es-do":"7MHZ","./es-do.js":"7MHZ","./es-us":"INcR","./es-us.js":"INcR","./es.js":"LT9G","./et":"XlWM","./et.js":"XlWM","./eu":"sqLM","./eu.js":"sqLM","./fa":"2pmY","./fa.js":"2pmY","./fi":"nS2h","./fi.js":"nS2h","./fo":"OVPi","./fo.js":"OVPi","./fr":"tzHd","./fr-ca":"bXQP","./fr-ca.js":"bXQP","./fr-ch":"VK9h","./fr-ch.js":"VK9h","./fr.js":"tzHd","./fy":"g7KF","./fy.js":"g7KF","./ga":"U5Iz","./ga.js":"U5Iz","./gd":"nLOz","./gd.js":"nLOz","./gl":"FuaP","./gl.js":"FuaP","./gom-latn":"+27R","./gom-latn.js":"+27R","./gu":"rtsW","./gu.js":"rtsW","./he":"Nzt2","./he.js":"Nzt2","./hi":"ETHv","./hi.js":"ETHv","./hr":"V4qH","./hr.js":"V4qH","./hu":"xne+","./hu.js":"xne+","./hy-am":"GrS7","./hy-am.js":"GrS7","./id":"yRTJ","./id.js":"yRTJ","./is":"upln","./is.js":"upln","./it":"FKXc","./it-ch":"/E8D","./it-ch.js":"/E8D","./it.js":"FKXc","./ja":"ORgI","./ja.js":"ORgI","./jv":"JwiF","./jv.js":"JwiF","./ka":"RnJI","./ka.js":"RnJI","./kk":"j+vx","./kk.js":"j+vx","./km":"5j66","./km.js":"5j66","./kn":"gEQe","./kn.js":"gEQe","./ko":"eBB/","./ko.js":"eBB/","./ku":"kI9l","./ku.js":"kI9l","./ky":"6cf8","./ky.js":"6cf8","./lb":"z3hR","./lb.js":"z3hR","./lo":"nE8X","./lo.js":"nE8X","./lt":"/6P1","./lt.js":"/6P1","./lv":"jxEH","./lv.js":"jxEH","./me":"svD2","./me.js":"svD2","./mi":"gEU3","./mi.js":"gEU3","./mk":"Ab7C","./mk.js":"Ab7C","./ml":"oo1B","./ml.js":"oo1B","./mn":"CqHt","./mn.js":"CqHt","./mr":"5vPg","./mr.js":"5vPg","./ms":"ooba","./ms-my":"G++c","./ms-my.js":"G++c","./ms.js":"ooba","./mt":"oCzW","./mt.js":"oCzW","./my":"F+2e","./my.js":"F+2e","./nb":"FlzV","./nb.js":"FlzV","./ne":"/mhn","./ne.js":"/mhn","./nl":"3K28","./nl-be":"Bp2f","./nl-be.js":"Bp2f","./nl.js":"3K28","./nn":"C7av","./nn.js":"C7av","./pa-in":"pfs9","./pa-in.js":"pfs9","./pl":"7LV+","./pl.js":"7LV+","./pt":"ZoSI","./pt-br":"AoDM","./pt-br.js":"AoDM","./pt.js":"ZoSI","./ro":"wT5f","./ro.js":"wT5f","./ru":"ulq9","./ru.js":"ulq9","./sd":"fW1y","./sd.js":"fW1y","./se":"5Omq","./se.js":"5Omq","./si":"Lgqo","./si.js":"Lgqo","./sk":"OUMt","./sk.js":"OUMt","./sl":"2s1U","./sl.js":"2s1U","./sq":"V0td","./sq.js":"V0td","./sr":"f4W3","./sr-cyrl":"c1x4","./sr-cyrl.js":"c1x4","./sr.js":"f4W3","./ss":"7Q8x","./ss.js":"7Q8x","./sv":"Fpqq","./sv.js":"Fpqq","./sw":"DSXN","./sw.js":"DSXN","./ta":"+7/x","./ta.js":"+7/x","./te":"Nlnz","./te.js":"Nlnz","./tet":"gUgh","./tet.js":"gUgh","./tg":"5SNd","./tg.js":"5SNd","./th":"XzD+","./th.js":"XzD+","./tl-ph":"3LKG","./tl-ph.js":"3LKG","./tlh":"m7yE","./tlh.js":"m7yE","./tr":"k+5o","./tr.js":"k+5o","./tzl":"iNtv","./tzl.js":"iNtv","./tzm":"FRPF","./tzm-latn":"krPU","./tzm-latn.js":"krPU","./tzm.js":"FRPF","./ug-cn":"To0v","./ug-cn.js":"To0v","./uk":"ntHu","./uk.js":"ntHu","./ur":"uSe8","./ur.js":"uSe8","./uz":"XU1s","./uz-latn":"/bsm","./uz-latn.js":"/bsm","./uz.js":"XU1s","./vi":"0X8Q","./vi.js":"0X8Q","./x-pseudo":"e/KL","./x-pseudo.js":"e/KL","./yo":"YXlc","./yo.js":"YXlc","./zh-cn":"Vz2w","./zh-cn.js":"Vz2w","./zh-hk":"ZUyn","./zh-hk.js":"ZUyn","./zh-tw":"BbgG","./zh-tw.js":"BbgG"};function n(t){return r(s(t))}function s(t){var e=a[t];if(!(e+1))throw new Error("Cannot find module '"+t+"'.");return e}n.keys=function(){return Object.keys(a)},n.resolve=s,t.exports=n,n.id="uslO"},yuX0:function(t,e){},yuaL:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.41eee3af183f0b3464eb.js.map